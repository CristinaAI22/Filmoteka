!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=t.parcelRequire4383;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequire4383=o),o.register("jIucq",function(e,t){Object.defineProperty(e.exports,"default",{get:function(){return a},set:void 0,enumerable:!0,configurable:!0});var a=e=>{let t=document.querySelector(e);if(t)return t;throw Error(`the ${e} dose not exist`)}});var i=o("dIxxU"),l=o("jIucq");let s="53b2ac0d64cbeedea763734f4fe8a4ce",d=1,r="https://api.themoviedb.org/3",c=()=>{let e=(0,l.default)(".pagination");e.addEventListener("click",u)};function u(e){let t=e.target;if(t.dataset.page){let e=t.dataset.page;d=e=Number(e),x()}t.dataset.prev&&(d-=1,x()),t.dataset.next&&(d+=1,x())}o("jIucq");let m=(e,t,a)=>{a.innerHTML="";let n=e.map(e=>{var a;let n,{genre_ids:o,title:i,name:l,poster_path:s,release_date:d,id:r}=e;return a=o,n="",t.forEach(e=>{a.includes(e.id)&&(n=n+e.name+", ")}),o=n=n?n.slice(0,-2):"Unknown",d=function(e){let t=e?e.split("-")[0]:"Unknown";return t}(d),i=i||l,`<div class="photo-card" data-id="${r}" >
      <div
        class="modal-info"
        data-vote-avg="${e.vote_average}"
        data-vote-count="${e.vote_count}"
        data-popularity="${e.popularity}"
        data-about="${e.overview}"
        data_original_title="${e.original_title}"
        >
      </div>
    <img src="${s=s?`https://image.tmdb.org/t/p/w500${s}`:"../images/no-signal-img.jpg"}" class="image" alt="${i}" />
    <div class="overlay-text">
        <h1>${Math.round(10*e.vote_average)/10}</h1>
    </div>
  <div class="container-info">
    <b class="title">${i}</b>
    <div class="cont-descr">
      <p class="descr-item">${o}</p>
      <p class="descr-item">|</p>
      <p class="descr-item">${d}</p>
    </div>
  </div>
</div>`}).join("");a.innerHTML=n};var l=o("jIucq");let p=(0,l.default)("#prev-btn"),f=(0,l.default)("#next-btn"),g=(0,l.default)(".number-buttons"),y=e=>{p.disabled=!1,f.disabled=!1;let t=window.innerWidth;t<768?(g.innerHTML="",1===d&&(p.disabled=!0),d===e&&(f.disabled=!0),d<3?v(3):d>=3&&d<e-2?v(d):v(e-2)):(g.innerHTML="",1===d&&(p.disabled=!0),d===e&&(f.disabled=!0),d<5?(h(5),w(),b(e)):d>=5&&d<e-4?(b(1),w(),v(d),w(),b(e)):(b(1),w(),h(e-2)))};function v(e){for(let t=e-2;t<=e+2;t++){let e=document.createElement("button");e.innerText=t,e.classList.add("pagination__button"),e.dataset.page=t,d===t&&e.classList.add("active"),g.appendChild(e)}}function h(e){for(let t=e-3;t<=e+3;t++){let e=document.createElement("button");e.innerText=t-1,e.classList.add("pagination__button"),e.dataset.page=t-1,d===t-1&&e.classList.add("active"),g.appendChild(e)}}function w(){let e=document.createElement("button");e.innerText="...",e.classList.add("dot-btn"),e.disabled=!0,g.appendChild(e)}function b(e){let t=document.createElement("button");t.innerText=`${e}`,t.classList.add("pagination__button"),t.dataset.page=e,g.appendChild(t)}var _=o("6JpON");function E(){e(_).Loading.standard("Loading...")}function L(){e(_).Loading.remove()}var l=o("jIucq");let q=(0,l.default)(".pagination"),x=async()=>{E(),q.classList.contains("is-hidden")&&q.classList.remove("is-hidden");try{let e=(0,l.default)(".gallery"),t=`${r}/trending/all/day?page=${d}&api_key=${s}`,a=await (0,i.default).get(t),n=a.data,o=n.total_pages;o/=2;let c=n.results,u=await S();m(c,u,e),y(o),window.scrollTo({top:0,behavior:"smooth"})}catch(t){console.log(t),e(_).Notify.failure("Oops! Something went wrong. Please try again later.")}finally{L()}};async function S(){try{let e=`${r}/genre/movie/list?api_key=${s}`,t=await (0,i.default).get(e),a=t.data;return a=a.genres}catch(e){console.log(e)}}let T=async()=>{try{let e=`${r}/trending/all/day?api_key=${s}&language=en-US&page=1`,t=await fetch(e),a=await t.json(),n=a.results;I(n),M()}catch(t){console.log(t),e(_).Notify.warning("Oops! Something went wrong, but life goes on")}},$=document.querySelector(".carousel-prev"),k=document.querySelector(".carousel-next"),O=document.querySelector(".swiper__wrapper"),C=0,I=e=>{O.innerHTML="",e.forEach((e,t)=>{let a=document.createElement("div");a.classList.add("swiper__slide"),a.dataset.index=t;let n=document.createElement("img");n.classList.add("swiper__image"),n.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,n.alt=e.title,a.appendChild(n),O.appendChild(a)})},M=()=>{let e=O.children.length,t=Math.floor(O.offsetWidth/200),a=e-t;$.addEventListener("click",()=>{C=(C-1+e)%e,n()}),k.addEventListener("click",()=>{C=(C+1)%e,n()});let n=()=>{let e=-(200*C);O.style.transition="transform 0.5s",O.style.transform=`translateX(${e}px)`,C===a&&setTimeout(()=>{O.style.transition="none",C=0,O.style.transform="translateX(0)"},500)},o=O.querySelectorAll(".swiper__slide");o.forEach(e=>{e.addEventListener("mouseover",()=>{e.querySelector(".swiper__image").style.transform="scale(1.1)"}),e.addEventListener("mouseout",()=>{e.querySelector(".swiper__image").style.transform="scale(1)"})}),setInterval(()=>{C=(C+1)%e,n()},3e3)};var l=o("jIucq");let R="toWatch",D="toQueue",U=(0,l.default)(".modal"),W=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[],j=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},Q=()=>{U.addEventListener("click",e=>{let t=e.target,a=e.currentTarget.dataset.movieId,n=W(R),o=W(D),i=N(n),l=N(o),s={id:a};"toWatch"===t.dataset.action?i.includes(a)||(n.push(s),j(R,n),t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"):"toQueue"===t.dataset.action?l.includes(a)||(o.push(s),j(D,o),t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"):"toWatchRmv"===t.dataset.action?(n=n.filter(e=>e.id!==a),j(R,n),t.textContent="ADD TO WATCHED",t.dataset.action="toWatch"):"toQueueRmv"===t.dataset.action&&(o=o.filter(e=>e.id!==a),j(D,o),t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")})};function N(e){let t=[];return e.forEach(e=>{t.push(e.id)}),t}let H=(e,t,a)=>{let n=N(e);"toWatch"===t.dataset.action&&n.includes(a)&&(t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"),"toWatchRmv"!==t.dataset.action||n.includes(a)||(t.textContent="ADD TO WATCHED",t.dataset.action="toWatch")},A=(e,t,a)=>{let n=N(e);"toQueue"===t.dataset.action&&n.includes(a)&&(t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"),"toQueueRmv"!==t.dataset.action||n.includes(a)||(t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")};var l=o("jIucq");let F=(0,l.default)(".modal"),V=(0,l.default)(".gallery"),J=e=>{let t=e.target.parentNode,a=F.querySelector(".watch"),n=F.querySelector(".queue"),o=t.dataset.id,i=W(R),l=W(D);H(i,a,o),A(l,n,o)},P=()=>{V.addEventListener("click",J)};async function B(){try{let e=await fetch(`https://api.themoviedb.org/3/discover/movie?sort_by=vote_count.desc&api_key=${s}`),t=await e.json(),a=t.results.find(e=>e.vote_count>0),n=await fetch(`https://api.themoviedb.org/3/movie/${a.id}/videos?api_key=${s}`),o=await n.json(),i=o.results.find(e=>"Trailer"===e.type);if(i){let e=i.key,t=`https://www.youtube.com/embed/${e}`;return t}throw Error("No trailer found for the movie.")}catch(e){throw console.error("Error:",e),e}}var i=o("dIxxU"),l=o("jIucq");let X=(0,l.default)("#form__search input"),Y=(0,l.default)("#form__search"),z=(0,l.default)(".gallery"),G=(0,l.default)(".pagination"),K=async()=>{Y.addEventListener("submit",async t=>{t.preventDefault(),E();try{let t=X.value.trim();if(""===t)x(),e(_).Notify.warning("Please enter the name of a movie to initiate a search.");else{let a=`https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&api_key=53b2ac0d64cbeedea763734f4fe8a4ce&query=${t}`,n=await (0,i.default).get(a),o=n.data,l=o.total_pages;l>1&&e(_).Notify.warning("Sooo many movies...");let s=o.results,d=await S();m(s,d,z),window.scrollTo({top:0,behavior:"smooth"}),G.classList.add("is-hidden")}console.log(t)}catch(e){console.log(e)}finally{L()}})};B().then(e=>{let t=document.querySelector(".video-frame"),a=document.createElement("iframe");a.src=e,a.width="100%",a.height="100%",a.allowFullscreen=!0,t.appendChild(a)}).catch(e=>{console.error("Error:",e)});let Z=async()=>{T(),x(),c(),Q(),P(),K()};window.addEventListener("DOMContentLoaded",Z);let ee=document.querySelector("body"),et=document.querySelector(".dl-btn"),ea=document.querySelector(".fa-sun"),en=document.querySelector(".fa-moon"),eo=document.querySelector(".modal"),ei=document.querySelector(".team__modal");function el(e){localStorage.setItem("darkmode",e)}!function(){let e=localStorage.getItem("darkmode");null===e?(el(!1),ea.style.display="inline",en.style.display="none"):"true"===e?(ee.classList.add("darkmode"),ea.style.display="none",en.style.display="inline"):"false"===e&&(ea.style.display="inline",en.style.display="none")}(),et.addEventListener("click",()=>{ee.classList.toggle("darkmode"),ea.classList.add("animated"),en.classList.add("animated"),eo.classList.toggle("darkmode"),ei.classList.toggle("darkmode"),el(ee.classList.contains("darkmode")),ee.classList.contains("darkmode")?(ea.style.display="none",en.style.display="inline"):(ea.style.display="inline",en.style.display="none"),setTimeout(()=>{ea.classList.remove("animated"),en.classList.remove("anmated")},500)});let es=document.getElementById("scrollToTopBtn"),ed=document.querySelector(".scroll-btn__icon ");window.addEventListener("scroll",function(){window.scrollY>window.innerHeight/2?(es.style.display="block",ed.style.transform="rotate(180deg)"):(es.style.display="none",ed.style.transform="rotate(0deg)")}),es.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}();
//# sourceMappingURL=index.c7c804c7.js.map
