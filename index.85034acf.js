function t(t,e,a,n){Object.defineProperty(t,e,{get:a,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=a.parcelRequire4383;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){o[t]=e},a.parcelRequire4383=i),i.register("1zbvg",function(e,a){t(e.exports,"default",function(){return n});var n=t=>{let e=document.querySelector(t);if(e)return e;throw Error(`the ${t} dose not exist`)}}),i.register("6UNi7",function(e,a){t(e.exports,"getStorageItem",function(){return d}),t(e.exports,"addToLocalStorag",function(){return c}),t(e.exports,"adjunstWatchBtns",function(){return p}),t(e.exports,"adjunstQueueBtns",function(){return g});var n=i("1zbvg");let o="toWatch",s="toQueue",l=(0,n.default)(".modal");(0,n.default)(".gallery");let d=t=>localStorage.getItem(t)?JSON.parse(localStorage.getItem(t)):[],r=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},c=()=>{l.addEventListener("click",t=>{let e=t.target,a=t.currentTarget.dataset.movieId,n=d(o),i=d(s),l=u(n),c=u(i),p={id:a};t.currentTarget,"toWatch"===e.dataset.action?l.includes(a)||(n.push(p),r(o,n),e.textContent="REMOVE FROM WATCHED",e.dataset.action="toWatchRmv"):"toQueue"===e.dataset.action?c.includes(a)||(i.push(p),r(s,i),e.textContent="REMOVE FROM QUEUE",e.dataset.action="toQueueRmv"):"toWatchRmv"===e.dataset.action?(n=n.filter(t=>t.id!==a),r(o,n),e.textContent="TO WATCHED",e.dataset.action="toWatch"):"toQueueRmv"!==e.dataset.action||c.includes(a)||(i=i.filter(t=>t.id!==a),r(s,i),e.textContent="ADD TO QUEUE",e.dataset.action="toQueue")})};function u(t){let e=[];return t.forEach(t=>{e.push(t.id)}),e}let p=(t,e,a)=>{let n=u(t);"toQueue"===e.dataset.action&&n.includes(a)&&(e.textContent="REMOVE FROM QUEUE",e.dataset.action="toWatchRmv"),"toQueueRmv"!==e.dataset.action||n.includes(a)||(e.textContent="TO WATCHED",e.dataset.action="toWatch")},g=(t,e,a)=>{let n=u(t);"toQueue"===e.dataset.action&&n.includes(a)&&(e.textContent="REMOVE FROM QUEUE",e.dataset.action="toWatchRmv"),"toQueueRmv"!==e.dataset.action||n.includes(a)||(e.textContent="ADD TO QUEUE",e.dataset.action="toQueue")}});var s=i("2shzp"),l=i("1zbvg");const d="53b2ac0d64cbeedea763734f4fe8a4ce";let r=1;const c="https://api.themoviedb.org/3",u=()=>{let t=(0,l.default)(".pagination");t.addEventListener("click",p)};function p(t){let e=t.target;if(e.dataset.page){let t=e.dataset.page;r=t=Number(t),_()}e.dataset.prev&&(r-=1,_()),e.dataset.next&&(r+=1,_())}i("1zbvg");const g=(t,e,a)=>{a.innerHTML="";let n=t.map(t=>{let{genre_ids:a,title:n,name:o,poster_path:i,release_date:s,id:l}=t;return a=function(t,e){let a="";return e.forEach(e=>{t.includes(e.id)&&(a=a+e.name+", ")}),a=a?a.slice(0,-2):"Unknown"}(a,e),s=function(t){let e=t?t.split("-")[0]:"Unknown";return e}(s),n=n||o,`<div class="photo-card" data-id="${l}" >
      <div
        class="modal-info"
        data-vote-avg="${t.vote_average}"
        data-vote-count="${t.vote_count}"
        data-popularity="${t.popularity}"
        data-about="${t.overview}"
        data_original_title="${t.original_title}"
        >
      </div>
    <img src="${i=i?`https://image.tmdb.org/t/p/w500${i}`:"../images/no-signal-img.jpg"}" class="image" alt="${n}" />
  <div class="container-info">
    <b class="title">${n}</b>
    <div class="cont-descr">
      <p class="descr-item">${a}</p>
      <p class="descr-item">|</p>
      <p class="descr-item">${s}</p>
    </div>
  </div>
</div>`}).join("");a.innerHTML=n};var l=i("1zbvg");const m=(0,l.default)("#prev-btn"),f=(0,l.default)("#next-btn"),y=(0,l.default)(".number-buttons"),v=t=>{m.disabled=!1,f.disabled=!1;let e=window.innerWidth;e<768?function(t){y.innerHTML="",1===r&&(m.disabled=!0),r===t&&(f.disabled=!0),r<3?h(3):r>=3&&r<t-2?h(r):h(t-2)}(t):function(t){y.innerHTML="",1===r&&(m.disabled=!0),r===t&&(f.disabled=!0),r<5?(b(5),E(),w(t)):r>=5&&r<t-4?(w(1),E(),h(r),E(),w(t)):(w(1),E(),b(t-2))}(t)};function h(t){for(let e=t-2;e<=t+2;e++){let t=document.createElement("button");t.innerText=e,t.classList.add("pagination__button"),t.dataset.page=e,r===e&&t.classList.add("active"),y.appendChild(t)}}function b(t){for(let e=t-3;e<=t+3;e++){let t=document.createElement("button");t.innerText=e-1,t.classList.add("pagination__button"),t.dataset.page=e-1,r===e-1&&t.classList.add("active"),y.appendChild(t)}}function E(){let t=document.createElement("button");t.innerText="...",t.classList.add("dot-btn"),t.disabled=!0,y.appendChild(t)}function w(t){let e=document.createElement("button");e.innerText=`${t}`,e.classList.add("pagination__button"),e.dataset.page=t,y.appendChild(e)}var L=i("7Y9D8"),l=i("1zbvg");const _=async()=>{e(L).Loading.standard("Loading...");try{let t=(0,l.default)(".gallery"),e=`${c}/trending/all/day?page=${r}&api_key=${d}`,a=await (0,s.default).get(e),n=a.data,o=n.total_pages;o/=2;let i=n.results,u=await T();g(i,u,t),v(o),window.scrollTo({top:0,behavior:"smooth"})}catch(t){console.log(t),e(L).Notify.failure("Oops! Something went wrong. Please try again later.")}finally{e(L).Loading.remove()}};async function T(){try{let t=`${c}/genre/movie/list?api_key=${d}`,e=await (0,s.default).get(t),a=e.data;return a=a.genres}catch(t){console.log(t)}}const x=async()=>{try{let t=`${c}/trending/all/day?api_key=${d}&language=en-US&page=1`,e=await fetch(t),a=await e.json(),n=a.results;k(n),R()}catch(t){console.log(t),e(L).Notify.warning("Oops! Something went wrong, but life goes on")}},S=document.querySelector(".carousel-prev"),$=document.querySelector(".carousel-next"),O=document.querySelector(".swiper__wrapper");let C=0;const k=t=>{O.innerHTML="",t.forEach((t,e)=>{let a=document.createElement("div");a.classList.add("swiper__slide"),a.dataset.index=e;let n=document.createElement("img");n.classList.add("swiper__image"),n.src=`https://image.tmdb.org/t/p/w500${t.poster_path}`,n.alt=t.title,a.appendChild(n),O.appendChild(a)})},R=()=>{let t=O.children.length,e=Math.floor(O.offsetWidth/200),a=t-e;S.addEventListener("click",()=>{C=(C-1+t)%t,n()}),$.addEventListener("click",()=>{C=(C+1)%t,n()});let n=()=>{let t=-(200*C);O.style.transition="transform 0.5s",O.style.transform=`translateX(${t}px)`,C===a&&setTimeout(()=>{O.style.transition="none",C=0,O.style.transform="translateX(0)"},500)},o=O.querySelectorAll(".swiper__slide");o.forEach(t=>{t.addEventListener("mouseover",()=>{t.querySelector(".swiper__image").style.transform="scale(1.1)"}),t.addEventListener("mouseout",()=>{t.querySelector(".swiper__image").style.transform="scale(1)"})}),setInterval(()=>{C=(C+1)%t,n()},3e3)};var M=i("6UNi7");const U=async()=>{x(),_(),u(),(0,M.addToLocalStorag)()};window.addEventListener("DOMContentLoaded",U);const Q=document.querySelector("body"),q=document.querySelector(".dl-btn"),W=document.querySelector(".fa-sun"),D=document.querySelector(".fa-moon");function H(t){localStorage.setItem("darkmode",t)}!function(){let t=localStorage.getItem("darkmode");null===t?(H(!1),W.style.display="inline",D.style.display="none"):"true"===t?(Q.classList.add("darkmode"),W.style.display="none",D.style.display="inline"):"false"===t&&(W.style.display="inline",D.style.display="none")}(),q.addEventListener("click",()=>{Q.classList.toggle("darkmode"),W.classList.add("animated"),D.classList.add("animated"),H(Q.classList.contains("darkmode")),Q.classList.contains("darkmode")?(W.style.display="none",D.style.display="inline"):(W.style.display="inline",D.style.display="none"),setTimeout(()=>{W.classList.remove("animated"),D.classList.remove("anmated")},500)});const I=document.getElementById("scrollToTopBtn"),N=document.querySelector(".scroll-btn__icon ");window.addEventListener("scroll",function(){window.scrollY>window.innerHeight/2?(I.style.display="block",N.style.transform="rotate(180deg)"):(I.style.display="none",N.style.transform="rotate(0deg)")}),I.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.85034acf.js.map
