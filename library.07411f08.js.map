{"mappings":"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","sources":["<anon>","src/library.js","src/js-files/buildLibrary.js","src/js-files/library/library-utils.js","src/js-files/library/createLibraryDOM.js","src/js-files/library/library-modal.js","src/js-files/library/library-local-storage.js","src/js-files/library/changeLibraryModalBtns.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire4383\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire4383\"] = parcelRequire;\n}\n// imports\n// imports\n\nvar $dIxxU = parcelRequire(\"dIxxU\");\n\nvar $6JpON = parcelRequire(\"6JpON\");\nconst $e22791ce5b00f179$export$d16800b7e59a8051 = (selection)=>{\n    const element = document.querySelector(selection);\n    if (element) return element;\n    throw new Error(`the ${selection} does not exist`);\n};\nfunction $e22791ce5b00f179$export$24b60fe7179439bc(arr) {\n    const arrIds = [];\n    arr.forEach((movie)=>{\n        arrIds.push(movie.id);\n    });\n    return arrIds;\n}\nconst $e22791ce5b00f179$export$e612bb1301d659de = (item)=>{\n    let storageItem = localStorage.getItem(item);\n    if (storageItem) storageItem = JSON.parse(localStorage.getItem(item));\n    else storageItem = [];\n    return storageItem;\n};\nfunction $e22791ce5b00f179$export$56525cbb1fcd885c() {\n    (0, (/*@__PURE__*/$parcel$interopDefault($6JpON))).Loading.standard(\"Loading...\");\n}\nfunction $e22791ce5b00f179$export$5cee2c2772922923() {\n    (0, (/*@__PURE__*/$parcel$interopDefault($6JpON))).Loading.remove();\n}\n\n\n// imports\n\nconst $6b5e466e72a6fb38$var$libraryGallery = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".library-gallery\");\nconst $6b5e466e72a6fb38$export$975f077eb52d1497 = (moviesArr)=>{\n    const galleryContent = moviesArr.map((movie)=>{\n        let { genres: movieType , original_title: name , poster_path: movieImg , id: id , release_date: releaseDate  } = movie;\n        movieType = $6b5e466e72a6fb38$var$getGenres(movieType);\n        releaseDate = $6b5e466e72a6fb38$var$getRealeaseDate(releaseDate);\n        movieImg = movieImg ? `https://image.tmdb.org/t/p/w500${movieImg}` : `../../images/no-signal-img.jpg`;\n        return `<div class=\"photo-card\" data-id=\"${id}\" >\n      <div\n        class=\"modal-info\"\n        data-vote-avg=\"${movie.vote_average}\"\n        data-vote-count=\"${movie.vote_count}\"\n        data-popularity=\"${movie.popularity}\"\n        data-about=\"${movie.overview}\"\n        data_original_title=\"${movie.original_title}\"\n        >\n      </div>\n    <img src=\"${movieImg}\" class=\"image\" alt=\"${name}\" />\n     <div class=\"overlay-text\">\n        <h1>${Math.round(movie.vote_average * 10) / 10}</h1>\n    </div>\n  <div class=\"container-info\">\n    <b class=\"title\">${name}</b>\n    <div class=\"cont-descr\">\n      <p class=\"descr-item\">${movieType}</p>\n      <p class=\"descr-item\">|</p>\n      <p class=\"descr-item\">${releaseDate}</p>\n    </div>\n  </div>\n</div>`;\n    }).join(\"\");\n    $6b5e466e72a6fb38$var$libraryGallery.innerHTML = galleryContent;\n};\nfunction $6b5e466e72a6fb38$var$getGenres(arr) {\n    let types = \"\";\n    arr.forEach((movie)=>{\n        types = types + movie.name + \", \";\n    });\n    types = types ? types.slice(0, -2) : \"N/A\";\n    return types;\n}\nfunction $6b5e466e72a6fb38$var$getRealeaseDate(realeaseDate) {\n    const year = realeaseDate ? realeaseDate.split(\"-\")[0] : \"N/A\";\n    return year;\n}\n\n\n\nvar $jR0Rd = parcelRequire(\"jR0Rd\");\nconst $eb86f81455cf9afe$var$toWatch = \"toWatch\";\nconst $eb86f81455cf9afe$var$toQueue = \"toQueue\";\nconst $eb86f81455cf9afe$var$API_KEY = \"53b2ac0d64cbeedea763734f4fe8a4ce\";\nconst $eb86f81455cf9afe$var$BASE_URL_ID = \"https://api.themoviedb.org/3/movie/\";\nconst $eb86f81455cf9afe$var$noMovie = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".no-movie\");\nasync function $eb86f81455cf9afe$export$d3a4e63b49add6b2(selectedLibrary) {\n    (0, $e22791ce5b00f179$export$56525cbb1fcd885c)();\n    $eb86f81455cf9afe$var$noMovie.classList.remove(\"is-hidden\");\n    try {\n        let localStorageMovies = (0, $e22791ce5b00f179$export$e612bb1301d659de)(selectedLibrary);\n        localStorageMovies = (0, $e22791ce5b00f179$export$24b60fe7179439bc)(localStorageMovies);\n        const movies = await $eb86f81455cf9afe$var$moviesDetails(localStorageMovies);\n        if (movies.length !== 0) $eb86f81455cf9afe$var$noMovie.classList.add(\"is-hidden\");\n        (0, $6b5e466e72a6fb38$export$975f077eb52d1497)(movies);\n        (0, $jR0Rd.changeNoteColor)();\n    } catch (err) {\n        console.log(err);\n    } finally{\n        (0, $e22791ce5b00f179$export$5cee2c2772922923)();\n    }\n}\nconst $eb86f81455cf9afe$var$moviesDetails = async (localStorageMovies)=>{\n    const movieDetailsArray = [];\n    await Promise.all(localStorageMovies.map(async (movie)=>{\n        try {\n            const url = `${$eb86f81455cf9afe$var$BASE_URL_ID}${movie}?api_key=${$eb86f81455cf9afe$var$API_KEY}`;\n            const resp = await (0, $dIxxU.default).get(url);\n            const data = resp.data;\n            movieDetailsArray.push(data);\n        } catch (err) {\n            console.log(err);\n        }\n    }));\n    return movieDetailsArray;\n};\nconst $eb86f81455cf9afe$export$e7d1a4959038c5e5 = async ()=>{\n    await $eb86f81455cf9afe$export$d3a4e63b49add6b2($eb86f81455cf9afe$var$toWatch);\n    const watchBtn = (0, $e22791ce5b00f179$export$d16800b7e59a8051)('[data-whichLibrary=\"watched\"]');\n    const queueBtn = (0, $e22791ce5b00f179$export$d16800b7e59a8051)('[data-whichLibrary=\"queue\"]');\n    watchBtn.addEventListener(\"click\", async ()=>{\n        if (queueBtn.classList.contains(\"active-library\")) queueBtn.classList.remove(\"active-library\");\n        watchBtn.classList.add(\"active-library\");\n        await $eb86f81455cf9afe$export$d3a4e63b49add6b2($eb86f81455cf9afe$var$toWatch);\n    });\n    queueBtn.addEventListener(\"click\", async ()=>{\n        if (watchBtn.classList.contains(\"active-library\")) watchBtn.classList.remove(\"active-library\");\n        queueBtn.classList.add(\"active-library\");\n        await $eb86f81455cf9afe$export$d3a4e63b49add6b2($eb86f81455cf9afe$var$toQueue);\n    });\n};\n\n\n// imports\n\n\nvar $aWjK1 = parcelRequire(\"aWjK1\");\n// vars\nconst $c3795c56ee2b15c5$var$modal = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".library-film_info_modal\");\nconst $c3795c56ee2b15c5$var$modalImageContainer = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".img_content\");\nconst $c3795c56ee2b15c5$var$modalVotes = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film-detail_votes\");\nconst $c3795c56ee2b15c5$var$modalVotes2 = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film-detail_votes2\");\nconst $c3795c56ee2b15c5$var$modalFilmName = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film_title\");\nconst $c3795c56ee2b15c5$var$modalFilmPopularity = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film-detail_popularity\");\nconst $c3795c56ee2b15c5$var$modalOriginaFilmTitle = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film-detail_original-title\");\nconst $c3795c56ee2b15c5$var$modalFilmGenre = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film-detail_genre\");\nconst $c3795c56ee2b15c5$var$modalFilmDescription = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".film-detail_description\");\nconst $c3795c56ee2b15c5$var$closeModal = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\"#close-button\");\nconst $c3795c56ee2b15c5$var$gallery = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".library-gallery\");\nconst $c3795c56ee2b15c5$var$modalContainer = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".modal\");\nconst $c3795c56ee2b15c5$var$playButton = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".youtubeButtonLibrary\");\nconst $c3795c56ee2b15c5$var$trailerContainer = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".trailerLibrary\");\nconst $c3795c56ee2b15c5$export$57c0c01c06b8a0be = ()=>{\n    $c3795c56ee2b15c5$var$gallery.addEventListener(\"click\", (e)=>{\n        const element = e.target.parentNode;\n        //average work\n        const elementInfo = element.querySelector(\".modal-info\");\n        const voteCount = elementInfo.getAttribute(\"data-vote-count\");\n        const average = elementInfo.getAttribute(\"data-vote-avg\");\n        const averageCountNumber = Number(average);\n        const averageCountNumberRound = Math.round(averageCountNumber * 10) / 10;\n        $c3795c56ee2b15c5$var$modalVotes.innerHTML = ` ${averageCountNumberRound} `;\n        $c3795c56ee2b15c5$var$modalVotes2.innerHTML = ` / ${voteCount}`;\n        // add movie id to the modal\n        const movieId = element.dataset.id;\n        $c3795c56ee2b15c5$var$modalContainer.dataset.movieId = movieId;\n        //image work\n        const movieImage = element.querySelector(\"img\");\n        const imageLink = movieImage.getAttribute(\"src\");\n        $c3795c56ee2b15c5$var$modalImageContainer.innerHTML = `<img src=\"${imageLink}\">`;\n        //film title\n        const containerInfoTitle = element.querySelector(\".container-info b\");\n        const filmName = containerInfoTitle.textContent;\n        $c3795c56ee2b15c5$var$modalFilmName.innerHTML = ` ${filmName} `;\n        //film popularity\n        const filmPopularity = elementInfo.getAttribute(\"data-popularity\");\n        const filmPopularityRound = Math.round(filmPopularity);\n        $c3795c56ee2b15c5$var$modalFilmPopularity.innerHTML = `Popularity: ${filmPopularityRound} `;\n        //film original title\n        const filmOriginalName = elementInfo.getAttribute(\"data_original_title\");\n        const originalTitle = filmOriginalName === \"undefined\" ? filmName : filmOriginalName;\n        $c3795c56ee2b15c5$var$modalOriginaFilmTitle.innerHTML = `Original-title: ${originalTitle} `;\n        //film genre\n        const containerInfo = element.querySelector(\".container-info\");\n        const description = containerInfo.querySelector(\".cont-descr\");\n        const genre = description.querySelector(\"p\").textContent;\n        $c3795c56ee2b15c5$var$modalFilmGenre.innerHTML = `Genre: ${genre}`;\n        //about film\n        const filmDescription = elementInfo.getAttribute(\"data-about\");\n        $c3795c56ee2b15c5$var$modalFilmDescription.innerHTML += ` ${filmDescription} `;\n        $c3795c56ee2b15c5$var$modal.showModal();\n    });\n};\n$c3795c56ee2b15c5$var$playButton.addEventListener(\"click\", async ()=>{\n    const movieId = $c3795c56ee2b15c5$var$modalContainer.getAttribute(\"data-movie-id\");\n    const trailerId = await (0, $aWjK1.fetchMovieTrailer)(movieId);\n    $c3795c56ee2b15c5$var$trailerContainer.innerHTML = `<iframe\n                                  src=\"https://www.youtube.com/embed/${trailerId}\"\n                                  title=\"YouTube video player\"\n                                  frameborder=\"0\"\n                                  allow=\"accelerometer;\n                                  autoplay;\n                                  clipboard-write;\n                                  encrypted-media;\n                                  gyroscope;\n                                  picture-in-picture;\n                                  web-share\"\n                                  allowfullscreen\n                                >\n                                </iframe>`;\n});\n$c3795c56ee2b15c5$var$closeModal.addEventListener(\"click\", ()=>{\n    $c3795c56ee2b15c5$var$clearModalOnClose();\n    $c3795c56ee2b15c5$var$modal.close();\n});\nfunction $c3795c56ee2b15c5$var$clearModalOnClose() {\n    const modalDataElements = $c3795c56ee2b15c5$var$modal.querySelectorAll('[class*=\"film-detail\"]');\n    modalDataElements.forEach((element)=>{\n        element.innerHTML = \"\";\n    });\n    $c3795c56ee2b15c5$var$trailerContainer.innerHTML = \"\";\n}\n// function to close modal by  outside click\nwindow.addEventListener(\"click\", (e)=>{\n    if (e.target == $c3795c56ee2b15c5$var$modal) {\n        $c3795c56ee2b15c5$var$clearModalOnClose();\n        $c3795c56ee2b15c5$var$modal.close();\n    }\n});\n// function to close modal by  esc\ndocument.addEventListener(\"keydown\", (event)=>{\n    event.preventDefault();\n    if (event.keyCode == 27) {\n        $c3795c56ee2b15c5$var$clearModalOnClose();\n        $c3795c56ee2b15c5$var$modal.close();\n    }\n});\n\n\n\n\nconst $22f740e2ae01a4ad$var$toWatch = \"toWatch\";\nconst $22f740e2ae01a4ad$var$toQueue = \"toQueue\";\nconst $22f740e2ae01a4ad$var$libraryModal = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".library-film_info_modal .modal\");\nconst $22f740e2ae01a4ad$var$setStorageItem = (name, item)=>{\n    localStorage.setItem(name, JSON.stringify(item));\n};\nconst $22f740e2ae01a4ad$var$watchBtn = (0, $e22791ce5b00f179$export$d16800b7e59a8051)('button[data-whichLibrary=\"watched\"]');\nconst $22f740e2ae01a4ad$var$queueBtn = (0, $e22791ce5b00f179$export$d16800b7e59a8051)('button[data-whichLibrary=\"queue\"]');\nconst $22f740e2ae01a4ad$export$74b99968605452da = ()=>{\n    $22f740e2ae01a4ad$var$libraryModal.addEventListener(\"click\", (e)=>{\n        const clickedElement = e.target;\n        const id = e.currentTarget.dataset.movieId;\n        let watchStorage = (0, $e22791ce5b00f179$export$e612bb1301d659de)($22f740e2ae01a4ad$var$toWatch);\n        let queueStorage = (0, $e22791ce5b00f179$export$e612bb1301d659de)($22f740e2ae01a4ad$var$toQueue);\n        const watchIds = (0, $e22791ce5b00f179$export$24b60fe7179439bc)(watchStorage);\n        const queueIds = (0, $e22791ce5b00f179$export$24b60fe7179439bc)(queueStorage);\n        const movie = {\n            id: id\n        };\n        if (clickedElement.dataset.action === \"toWatch\") {\n            if (!watchIds.includes(id)) {\n                watchStorage.push(movie);\n                $22f740e2ae01a4ad$var$setStorageItem($22f740e2ae01a4ad$var$toWatch, watchStorage);\n                clickedElement.textContent = \"REMOVE FROM WATCHED\";\n                clickedElement.dataset.action = \"toWatchRmv\";\n            }\n            $22f740e2ae01a4ad$var$watchBtn.classList.add(\"active-library\");\n            $22f740e2ae01a4ad$var$queueBtn.classList.remove(\"active-library\");\n            (0, $eb86f81455cf9afe$export$d3a4e63b49add6b2)($22f740e2ae01a4ad$var$toWatch);\n        } else if (clickedElement.dataset.action === \"toQueue\") {\n            if (!queueIds.includes(id)) {\n                queueStorage.push(movie);\n                $22f740e2ae01a4ad$var$setStorageItem($22f740e2ae01a4ad$var$toQueue, queueStorage);\n                clickedElement.textContent = \"REMOVE FROM QUEUE\";\n                clickedElement.dataset.action = \"toQueueRmv\";\n            }\n            $22f740e2ae01a4ad$var$queueBtn.classList.add(\"active-library\");\n            $22f740e2ae01a4ad$var$watchBtn.classList.remove(\"active-library\");\n            (0, $eb86f81455cf9afe$export$d3a4e63b49add6b2)($22f740e2ae01a4ad$var$toQueue);\n        } else if (clickedElement.dataset.action === \"toWatchRmv\") {\n            watchStorage = watchStorage.filter((movie)=>movie.id !== id);\n            $22f740e2ae01a4ad$var$setStorageItem($22f740e2ae01a4ad$var$toWatch, watchStorage);\n            clickedElement.textContent = \"ADD TO WATCHED\";\n            clickedElement.dataset.action = \"toWatch\";\n            $22f740e2ae01a4ad$var$watchBtn.classList.add(\"active-library\");\n            $22f740e2ae01a4ad$var$queueBtn.classList.remove(\"active-library\");\n            (0, $eb86f81455cf9afe$export$d3a4e63b49add6b2)($22f740e2ae01a4ad$var$toWatch);\n        } else if (clickedElement.dataset.action === \"toQueueRmv\") {\n            queueStorage = queueStorage.filter((movie)=>movie.id !== id);\n            $22f740e2ae01a4ad$var$setStorageItem($22f740e2ae01a4ad$var$toQueue, queueStorage);\n            clickedElement.textContent = \"ADD TO QUEUE\";\n            clickedElement.dataset.action = \"toQueue\";\n            $22f740e2ae01a4ad$var$queueBtn.classList.add(\"active-library\");\n            $22f740e2ae01a4ad$var$watchBtn.classList.remove(\"active-library\");\n            (0, $eb86f81455cf9afe$export$d3a4e63b49add6b2)($22f740e2ae01a4ad$var$toQueue);\n        }\n    });\n}; // just for test\n\n\n\nconst $c4e7d948568686d7$var$toWatch = \"toWatch\";\nconst $c4e7d948568686d7$var$toQueue = \"toQueue\";\nconst $c4e7d948568686d7$var$modal = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".library-film_info_modal .modal\");\nconst $c4e7d948568686d7$var$gallery = (0, $e22791ce5b00f179$export$d16800b7e59a8051)(\".library-gallery\");\nconst $c4e7d948568686d7$var$adjunstWatchBtns = (watchStorage, watchBtn, id)=>{\n    const watchedIds = (0, $e22791ce5b00f179$export$24b60fe7179439bc)(watchStorage);\n    if (watchBtn.dataset.action === \"toWatch\") {\n        if (watchedIds.includes(id)) {\n            watchBtn.textContent = \"REMOVE FROM WATCHED\";\n            watchBtn.dataset.action = \"toWatchRmv\";\n        }\n    }\n    if (watchBtn.dataset.action === \"toWatchRmv\") {\n        if (!watchedIds.includes(id)) {\n            watchBtn.textContent = \"ADD TO WATCHED\";\n            watchBtn.dataset.action = \"toWatch\";\n        }\n    }\n};\nconst $c4e7d948568686d7$var$adjunstQueueBtns = (queueStorage, queueBtn, id)=>{\n    const watchedIds = (0, $e22791ce5b00f179$export$24b60fe7179439bc)(queueStorage);\n    if (queueBtn.dataset.action === \"toQueue\") {\n        if (watchedIds.includes(id)) {\n            queueBtn.textContent = \"REMOVE FROM QUEUE\";\n            queueBtn.dataset.action = \"toQueueRmv\";\n        }\n    }\n    if (queueBtn.dataset.action === \"toQueueRmv\") {\n        if (!watchedIds.includes(id)) {\n            queueBtn.textContent = \"ADD TO QUEUE\";\n            queueBtn.dataset.action = \"toQueue\";\n        }\n    }\n};\nconst $c4e7d948568686d7$var$galleryClick = (e)=>{\n    const card = e.target.parentNode;\n    const watchBtn = $c4e7d948568686d7$var$modal.querySelector(\".watch\");\n    const queueBtn = $c4e7d948568686d7$var$modal.querySelector(\".queue\");\n    const id = card.dataset.id;\n    const toWatchList = (0, $e22791ce5b00f179$export$e612bb1301d659de)($c4e7d948568686d7$var$toWatch);\n    const toQueueList = (0, $e22791ce5b00f179$export$e612bb1301d659de)($c4e7d948568686d7$var$toQueue);\n    $c4e7d948568686d7$var$adjunstWatchBtns(toWatchList, watchBtn, id);\n    $c4e7d948568686d7$var$adjunstQueueBtns(toQueueList, queueBtn, id);\n};\nconst $c4e7d948568686d7$export$d10cae076ff72751 = ()=>{\n    $c4e7d948568686d7$var$gallery.addEventListener(\"click\", $c4e7d948568686d7$var$galleryClick);\n};\n\n\nconst $cecbdd76f2d3d4bd$var$libraryInit = ()=>{\n    (0, $eb86f81455cf9afe$export$e7d1a4959038c5e5)();\n    (0, $c3795c56ee2b15c5$export$57c0c01c06b8a0be)();\n    (0, $22f740e2ae01a4ad$export$74b99968605452da)();\n    (0, $c4e7d948568686d7$export$d10cae076ff72751)();\n};\nwindow.addEventListener(\"DOMContentLoaded\", $cecbdd76f2d3d4bd$var$libraryInit);\nconst $cecbdd76f2d3d4bd$var$body = document.querySelector(\"body\");\nconst $cecbdd76f2d3d4bd$var$dlBtn = document.querySelector(\".dl-btn\");\nconst $cecbdd76f2d3d4bd$var$iconSun = document.querySelector(\".fa-sun\");\nconst $cecbdd76f2d3d4bd$var$iconMoon = document.querySelector(\".fa-moon\");\nfunction $cecbdd76f2d3d4bd$var$store(value) {\n    localStorage.setItem(\"darkmode\", value);\n}\nfunction $cecbdd76f2d3d4bd$var$load() {\n    const darkmode = localStorage.getItem(\"darkmode\");\n    if (darkmode === null) {\n        $cecbdd76f2d3d4bd$var$store(false);\n        $cecbdd76f2d3d4bd$var$iconSun.style.display = \"inline\";\n        $cecbdd76f2d3d4bd$var$iconMoon.style.display = \"none\";\n    } else if (darkmode === \"true\") {\n        $cecbdd76f2d3d4bd$var$body.classList.add(\"darkmode\");\n        $cecbdd76f2d3d4bd$var$iconSun.style.display = \"none\";\n        $cecbdd76f2d3d4bd$var$iconMoon.style.display = \"inline\";\n    } else if (darkmode === \"false\") {\n        $cecbdd76f2d3d4bd$var$iconSun.style.display = \"inline\";\n        $cecbdd76f2d3d4bd$var$iconMoon.style.display = \"none\";\n    }\n}\n$cecbdd76f2d3d4bd$var$load();\n$cecbdd76f2d3d4bd$var$dlBtn.addEventListener(\"click\", ()=>{\n    $cecbdd76f2d3d4bd$var$body.classList.toggle(\"darkmode\");\n    $cecbdd76f2d3d4bd$var$iconSun.classList.add(\"animated\");\n    $cecbdd76f2d3d4bd$var$iconMoon.classList.add(\"animated\");\n    $cecbdd76f2d3d4bd$var$store($cecbdd76f2d3d4bd$var$body.classList.contains(\"darkmode\"));\n    if ($cecbdd76f2d3d4bd$var$body.classList.contains(\"darkmode\")) {\n        $cecbdd76f2d3d4bd$var$iconSun.style.display = \"none\";\n        $cecbdd76f2d3d4bd$var$iconMoon.style.display = \"inline\";\n    } else {\n        $cecbdd76f2d3d4bd$var$iconSun.style.display = \"inline\";\n        $cecbdd76f2d3d4bd$var$iconMoon.style.display = \"none\";\n    }\n    setTimeout(()=>{\n        $cecbdd76f2d3d4bd$var$iconSun.classList.remove(\"animated\");\n        $cecbdd76f2d3d4bd$var$iconMoon.classList.remove(\"anmated\");\n    }, 500);\n});\n\n})();\n//# sourceMappingURL=library.07411f08.js.map\n","// imports\nimport { renderLibrary } from './js-files/buildLibrary';\nimport { libraryModal } from './js-files/library/library-modal';\nimport { libraryLocalStorageHandle } from './js-files/library/library-local-storage';\nimport { handleLibraryModalBtns } from './js-files/library/changeLibraryModalBtns';\n\nconst libraryInit = () => {\n  renderLibrary();\n  libraryModal();\n  libraryLocalStorageHandle();\n  handleLibraryModalBtns();\n};\n\nwindow.addEventListener('DOMContentLoaded', libraryInit);\n\nconst body = document.querySelector('body');\nconst dlBtn = document.querySelector('.dl-btn');\nconst iconSun = document.querySelector('.fa-sun');\nconst iconMoon = document.querySelector('.fa-moon');\n\nfunction store(value) {\n  localStorage.setItem('darkmode', value);\n}\n\nfunction load() {\n  const darkmode = localStorage.getItem('darkmode');\n\n  if (darkmode === null) {\n    store(false);\n    iconSun.style.display = 'inline';\n    iconMoon.style.display = 'none';\n  } else if (darkmode === 'true') {\n    body.classList.add('darkmode');\n    iconSun.style.display = 'none';\n    iconMoon.style.display = 'inline';\n  } else if (darkmode === 'false') {\n    iconSun.style.display = 'inline';\n    iconMoon.style.display = 'none';\n  }\n}\n\nload();\ndlBtn.addEventListener('click', () => {\n  body.classList.toggle('darkmode');\n  iconSun.classList.add('animated');\n  iconMoon.classList.add('animated');\n\n  store(body.classList.contains('darkmode'));\n\n  if (body.classList.contains('darkmode')) {\n    iconSun.style.display = 'none';\n    iconMoon.style.display = 'inline';\n  } else {\n    iconSun.style.display = 'inline';\n    iconMoon.style.display = 'none';\n  }\n  setTimeout(() => {\n    iconSun.classList.remove('animated');\n    iconMoon.classList.remove('anmated');\n  }, 500);\n});\n","// imports\nimport axios from 'axios';\nimport {\n  getIds,\n  getStorageItem,\n  showLoader,\n  hideLoader,\n} from './library/library-utils';\nimport { createLibraryDOM } from './library/createLibraryDOM';\nimport { getElement } from './library/library-utils';\nimport { changeNoteColor } from './change-note-color';\n\nconst toWatch = 'toWatch';\nconst toQueue = 'toQueue';\nconst API_KEY = '53b2ac0d64cbeedea763734f4fe8a4ce';\nconst BASE_URL_ID = 'https://api.themoviedb.org/3/movie/';\nconst noMovie = getElement('.no-movie');\n\n// https://api.themoviedb.org/3/movie/298618?api_key=53b2ac0d64cbeedea763734f4fe8a4ce\n\nexport async function buildsLibrary(selectedLibrary) {\n  showLoader();\n  noMovie.classList.remove('is-hidden');\n  try {\n    let localStorageMovies = getStorageItem(selectedLibrary);\n    localStorageMovies = getIds(localStorageMovies);\n    const movies = await moviesDetails(localStorageMovies);\n    if (movies.length !== 0) {\n      noMovie.classList.add('is-hidden');\n    }\n    createLibraryDOM(movies);\n    changeNoteColor();\n  } catch (err) {\n    console.log(err);\n  } finally {\n    hideLoader();\n  }\n}\n\nconst moviesDetails = async localStorageMovies => {\n  const movieDetailsArray = [];\n  await Promise.all(\n    localStorageMovies.map(async movie => {\n      try {\n        const url = `${BASE_URL_ID}${movie}?api_key=${API_KEY}`;\n        const resp = await axios.get(url);\n        const data = resp.data;\n        movieDetailsArray.push(data);\n      } catch (err) {\n        console.log(err);\n      }\n    })\n  );\n  return movieDetailsArray;\n};\n\nexport const renderLibrary = async () => {\n  await buildsLibrary(toWatch);\n  const watchBtn = getElement('[data-whichLibrary=\"watched\"]');\n  const queueBtn = getElement('[data-whichLibrary=\"queue\"]');\n  watchBtn.addEventListener('click', async () => {\n    if (queueBtn.classList.contains('active-library')) {\n      queueBtn.classList.remove('active-library');\n    }\n    watchBtn.classList.add('active-library');\n    await buildsLibrary(toWatch);\n  });\n  queueBtn.addEventListener('click', async () => {\n    if (watchBtn.classList.contains('active-library')) {\n      watchBtn.classList.remove('active-library');\n    }\n    queueBtn.classList.add('active-library');\n    await buildsLibrary(toQueue);\n  });\n};\n","import Notiflix from 'notiflix';\n\nexport const getElement = selection => {\n  const element = document.querySelector(selection);\n  if (element) {\n    return element;\n  }\n  throw new Error(`the ${selection} does not exist`);\n};\n\nexport function getIds(arr) {\n  const arrIds = [];\n  arr.forEach(movie => {\n    arrIds.push(movie.id);\n  });\n  return arrIds;\n}\n\nexport const getStorageItem = item => {\n  let storageItem = localStorage.getItem(item);\n  if (storageItem) {\n    storageItem = JSON.parse(localStorage.getItem(item));\n  } else {\n    storageItem = [];\n  }\n  return storageItem;\n};\n\nexport function showLoader() {\n  Notiflix.Loading.standard('Loading...');\n}\nexport function hideLoader() {\n  Notiflix.Loading.remove();\n}\n","// imports\nimport { getElement } from './library-utils';\n\nconst libraryGallery = getElement('.library-gallery');\n\nexport const createLibraryDOM = moviesArr => {\n  const galleryContent = moviesArr\n    .map(movie => {\n      let {\n        genres: movieType,\n        original_title: name,\n        poster_path: movieImg,\n        id,\n        release_date: releaseDate,\n      } = movie;\n      movieType = getGenres(movieType);\n      releaseDate = getRealeaseDate(releaseDate);\n      movieImg = movieImg\n        ? `https://image.tmdb.org/t/p/w500${movieImg}`\n        : `../../images/no-signal-img.jpg`;\n      return `<div class=\"photo-card\" data-id=\"${id}\" >\n      <div\n        class=\"modal-info\"\n        data-vote-avg=\"${movie.vote_average}\"\n        data-vote-count=\"${movie.vote_count}\"\n        data-popularity=\"${movie.popularity}\"\n        data-about=\"${movie.overview}\"\n        data_original_title=\"${movie.original_title}\"\n        >\n      </div>\n    <img src=\"${movieImg}\" class=\"image\" alt=\"${name}\" />\n     <div class=\"overlay-text\">\n        <h1>${Math.round(movie.vote_average * 10) / 10}</h1>\n    </div>\n  <div class=\"container-info\">\n    <b class=\"title\">${name}</b>\n    <div class=\"cont-descr\">\n      <p class=\"descr-item\">${movieType}</p>\n      <p class=\"descr-item\">|</p>\n      <p class=\"descr-item\">${releaseDate}</p>\n    </div>\n  </div>\n</div>`;\n    })\n    .join('');\n  libraryGallery.innerHTML = galleryContent;\n};\n\nfunction getGenres(arr) {\n  let types = '';\n  arr.forEach(movie => {\n    types = types + movie.name + ', ';\n  });\n  types = types ? types.slice(0, -2) : 'N/A';\n  return types;\n}\n\nfunction getRealeaseDate(realeaseDate) {\n  const year = realeaseDate ? realeaseDate.split('-')[0] : 'N/A';\n  return year;\n}\n","// imports\nimport { getElement } from './library-utils';\nimport { fetchMovieTrailer } from '../fetchMovieTrailer';\n\n// vars\nconst modal = getElement('.library-film_info_modal');\nconst modalImageContainer = getElement('.img_content');\nconst modalVotes = getElement('.film-detail_votes');\nconst modalVotes2 = getElement('.film-detail_votes2');\nconst modalFilmName = getElement('.film_title');\nconst modalFilmPopularity = getElement('.film-detail_popularity');\nconst modalOriginaFilmTitle = getElement('.film-detail_original-title');\nconst modalFilmGenre = getElement('.film-detail_genre');\nconst modalFilmDescription = getElement('.film-detail_description');\nconst closeModal = getElement('#close-button');\nconst gallery = getElement('.library-gallery');\nconst modalContainer = getElement('.modal');\nconst playButton = getElement('.youtubeButtonLibrary');\nconst trailerContainer = getElement('.trailerLibrary');\n\nexport const libraryModal = () => {\n  gallery.addEventListener('click', e => {\n    const element = e.target.parentNode;\n\n    //average work\n    const elementInfo = element.querySelector('.modal-info');\n    const voteCount = elementInfo.getAttribute('data-vote-count');\n    const average = elementInfo.getAttribute('data-vote-avg');\n    const averageCountNumber = Number(average);\n    const averageCountNumberRound = Math.round(averageCountNumber * 10) / 10;\n    modalVotes.innerHTML = ` ${averageCountNumberRound} `;\n    modalVotes2.innerHTML = ` / ${voteCount}`;\n\n    // add movie id to the modal\n    const movieId = element.dataset.id;\n    modalContainer.dataset.movieId = movieId;\n\n    //image work\n    const movieImage = element.querySelector('img');\n    const imageLink = movieImage.getAttribute('src');\n    modalImageContainer.innerHTML = `<img src=\"${imageLink}\">`;\n    //film title\n    const containerInfoTitle = element.querySelector('.container-info b');\n    const filmName = containerInfoTitle.textContent;\n    modalFilmName.innerHTML = ` ${filmName} `;\n    //film popularity\n    const filmPopularity = elementInfo.getAttribute('data-popularity');\n    const filmPopularityRound = Math.round(filmPopularity);\n    modalFilmPopularity.innerHTML = `Popularity: ${filmPopularityRound} `;\n    //film original title\n    const filmOriginalName = elementInfo.getAttribute('data_original_title');\n    const originalTitle =\n      filmOriginalName === 'undefined' ? filmName : filmOriginalName;\n    modalOriginaFilmTitle.innerHTML = `Original-title: ${originalTitle} `;\n    //film genre\n    const containerInfo = element.querySelector('.container-info');\n    const description = containerInfo.querySelector('.cont-descr');\n    const genre = description.querySelector('p').textContent;\n    modalFilmGenre.innerHTML = `Genre: ${genre}`;\n    //about film\n    const filmDescription = elementInfo.getAttribute('data-about');\n    modalFilmDescription.innerHTML += ` ${filmDescription} `;\n    modal.showModal();\n  });\n};\n\nplayButton.addEventListener('click', async () => {\n  const movieId = modalContainer.getAttribute('data-movie-id');\n  const trailerId = await fetchMovieTrailer(movieId);\n\n  trailerContainer.innerHTML = `<iframe\n                                  src=\"https://www.youtube.com/embed/${trailerId}\"\n                                  title=\"YouTube video player\"\n                                  frameborder=\"0\"\n                                  allow=\"accelerometer;\n                                  autoplay;\n                                  clipboard-write;\n                                  encrypted-media;\n                                  gyroscope;\n                                  picture-in-picture;\n                                  web-share\"\n                                  allowfullscreen\n                                >\n                                </iframe>`;\n});\n\ncloseModal.addEventListener('click', () => {\n  clearModalOnClose();\n  modal.close();\n});\n\nfunction clearModalOnClose() {\n  const modalDataElements = modal.querySelectorAll('[class*=\"film-detail\"]');\n  modalDataElements.forEach(element => {\n    element.innerHTML = '';\n  });\n  trailerContainer.innerHTML = '';\n}\n\n// function to close modal by  outside click\nwindow.addEventListener('click', e => {\n  if (e.target == modal) {\n    clearModalOnClose();\n    modal.close();\n  }\n});\n\n// function to close modal by  esc\ndocument.addEventListener('keydown', event => {\n  event.preventDefault();\n  if (event.keyCode == 27) {\n    clearModalOnClose();\n    modal.close();\n  }\n});\n","import { getElement } from './library-utils';\nimport { getStorageItem, getIds } from './library-utils';\nimport { buildsLibrary } from '../buildLibrary';\n\nconst toWatch = 'toWatch';\nconst toQueue = 'toQueue';\nconst libraryModal = getElement('.library-film_info_modal .modal');\nconst setStorageItem = (name, item) => {\n  localStorage.setItem(name, JSON.stringify(item));\n};\nconst watchBtn = getElement('button[data-whichLibrary=\"watched\"]');\nconst queueBtn = getElement('button[data-whichLibrary=\"queue\"]');\n\nexport const libraryLocalStorageHandle = () => {\n  libraryModal.addEventListener('click', e => {\n    const clickedElement = e.target;\n    const id = e.currentTarget.dataset.movieId;\n    let watchStorage = getStorageItem(toWatch);\n    let queueStorage = getStorageItem(toQueue);\n    const watchIds = getIds(watchStorage);\n    const queueIds = getIds(queueStorage);\n    const movie = { id: id };\n    if (clickedElement.dataset.action === 'toWatch') {\n      if (!watchIds.includes(id)) {\n        watchStorage.push(movie);\n        setStorageItem(toWatch, watchStorage);\n        clickedElement.textContent = 'REMOVE FROM WATCHED';\n        clickedElement.dataset.action = 'toWatchRmv';\n      }\n      watchBtn.classList.add('active-library');\n      queueBtn.classList.remove('active-library');\n      buildsLibrary(toWatch);\n    } else if (clickedElement.dataset.action === 'toQueue') {\n      if (!queueIds.includes(id)) {\n        queueStorage.push(movie);\n        setStorageItem(toQueue, queueStorage);\n        clickedElement.textContent = 'REMOVE FROM QUEUE';\n        clickedElement.dataset.action = 'toQueueRmv';\n      }\n      queueBtn.classList.add('active-library');\n      watchBtn.classList.remove('active-library');\n      buildsLibrary(toQueue);\n    } else if (clickedElement.dataset.action === 'toWatchRmv') {\n      watchStorage = watchStorage.filter(movie => movie.id !== id);\n      setStorageItem(toWatch, watchStorage);\n      clickedElement.textContent = 'ADD TO WATCHED';\n      clickedElement.dataset.action = 'toWatch';\n      watchBtn.classList.add('active-library');\n      queueBtn.classList.remove('active-library');\n      buildsLibrary(toWatch);\n    } else if (clickedElement.dataset.action === 'toQueueRmv') {\n      queueStorage = queueStorage.filter(movie => movie.id !== id);\n      setStorageItem(toQueue, queueStorage);\n      clickedElement.textContent = 'ADD TO QUEUE';\n      clickedElement.dataset.action = 'toQueue';\n      queueBtn.classList.add('active-library');\n      watchBtn.classList.remove('active-library');\n      buildsLibrary(toQueue);\n    }\n  });\n};\n// just for test\n","import { getStorageItem, getElement, getIds } from './library-utils';\n\nconst toWatch = 'toWatch';\nconst toQueue = 'toQueue';\nconst modal = getElement('.library-film_info_modal .modal');\nconst gallery = getElement('.library-gallery');\n\nconst adjunstWatchBtns = (watchStorage, watchBtn, id) => {\n  const watchedIds = getIds(watchStorage);\n  if (watchBtn.dataset.action === 'toWatch') {\n    if (watchedIds.includes(id)) {\n      watchBtn.textContent = 'REMOVE FROM WATCHED';\n      watchBtn.dataset.action = 'toWatchRmv';\n    }\n  }\n  if (watchBtn.dataset.action === 'toWatchRmv') {\n    if (!watchedIds.includes(id)) {\n      watchBtn.textContent = 'ADD TO WATCHED';\n      watchBtn.dataset.action = 'toWatch';\n    }\n  }\n};\n\nconst adjunstQueueBtns = (queueStorage, queueBtn, id) => {\n  const watchedIds = getIds(queueStorage);\n  if (queueBtn.dataset.action === 'toQueue') {\n    if (watchedIds.includes(id)) {\n      queueBtn.textContent = 'REMOVE FROM QUEUE';\n      queueBtn.dataset.action = 'toQueueRmv';\n    }\n  }\n  if (queueBtn.dataset.action === 'toQueueRmv') {\n    if (!watchedIds.includes(id)) {\n      queueBtn.textContent = 'ADD TO QUEUE';\n      queueBtn.dataset.action = 'toQueue';\n    }\n  }\n};\n\nconst galleryClick = e => {\n  const card = e.target.parentNode;\n  const watchBtn = modal.querySelector('.watch');\n  const queueBtn = modal.querySelector('.queue');\n  const id = card.dataset.id;\n  const toWatchList = getStorageItem(toWatch);\n  const toQueueList = getStorageItem(toQueue);\n  adjunstWatchBtns(toWatchList, watchBtn, id);\n  adjunstQueueBtns(toQueueList, queueBtn, id);\n};\n\nexport const handleLibraryModalBtns = () => {\n  gallery.addEventListener('click', galleryClick);\n};\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$dIxxU","$6JpON","$e22791ce5b00f179$export$d16800b7e59a8051","selection","element","document","querySelector","$e22791ce5b00f179$export$24b60fe7179439bc","arr","arrIds","forEach","movie","push","$e22791ce5b00f179$export$e612bb1301d659de","item","localStorage","getItem","JSON","parse","$6b5e466e72a6fb38$var$libraryGallery","$6b5e466e72a6fb38$export$975f077eb52d1497","moviesArr","galleryContent","map","types","genres","movieType","original_title","name","poster_path","movieImg","release_date","releaseDate","vote_average","vote_count","popularity","overview","Math","round","slice","$6b5e466e72a6fb38$var$getRealeaseDate","realeaseDate","year","split","join","innerHTML","$jR0Rd","$eb86f81455cf9afe$var$toWatch","$eb86f81455cf9afe$var$noMovie","$eb86f81455cf9afe$export$d3a4e63b49add6b2","selectedLibrary","Loading","standard","classList","remove","localStorageMovies","movies","$eb86f81455cf9afe$var$moviesDetails","length","add","changeNoteColor","console","log","movieDetailsArray","Promise","all","url","resp","get","data","$eb86f81455cf9afe$export$e7d1a4959038c5e5","watchBtn","queueBtn","addEventListener","contains","$aWjK1","$c3795c56ee2b15c5$var$modal","$c3795c56ee2b15c5$var$modalImageContainer","$c3795c56ee2b15c5$var$modalVotes","$c3795c56ee2b15c5$var$modalVotes2","$c3795c56ee2b15c5$var$modalFilmName","$c3795c56ee2b15c5$var$modalFilmPopularity","$c3795c56ee2b15c5$var$modalOriginaFilmTitle","$c3795c56ee2b15c5$var$modalFilmGenre","$c3795c56ee2b15c5$var$modalFilmDescription","$c3795c56ee2b15c5$var$closeModal","$c3795c56ee2b15c5$var$gallery","$c3795c56ee2b15c5$var$modalContainer","$c3795c56ee2b15c5$var$playButton","$c3795c56ee2b15c5$var$trailerContainer","$c3795c56ee2b15c5$export$57c0c01c06b8a0be","e","target","parentNode","elementInfo","voteCount","getAttribute","average","averageCountNumber","Number","movieId","dataset","movieImage","imageLink","containerInfoTitle","filmName","textContent","filmPopularity","filmOriginalName","containerInfo","description","genre","filmDescription","showModal","$c3795c56ee2b15c5$var$clearModalOnClose","modalDataElements","querySelectorAll","trailerId","fetchMovieTrailer","close","event","preventDefault","keyCode","$22f740e2ae01a4ad$var$toWatch","$22f740e2ae01a4ad$var$toQueue","$22f740e2ae01a4ad$var$libraryModal","$22f740e2ae01a4ad$var$setStorageItem","setItem","stringify","$22f740e2ae01a4ad$var$watchBtn","$22f740e2ae01a4ad$var$queueBtn","$22f740e2ae01a4ad$export$74b99968605452da","clickedElement","currentTarget","watchStorage","queueStorage","watchIds","queueIds","action","includes","filter","$c4e7d948568686d7$var$modal","$c4e7d948568686d7$var$gallery","$c4e7d948568686d7$var$adjunstWatchBtns","watchedIds","$c4e7d948568686d7$var$adjunstQueueBtns","$c4e7d948568686d7$var$galleryClick","card","toWatchList","toQueueList","$c4e7d948568686d7$export$d10cae076ff72751","$cecbdd76f2d3d4bd$var$body","$cecbdd76f2d3d4bd$var$dlBtn","$cecbdd76f2d3d4bd$var$iconSun","$cecbdd76f2d3d4bd$var$iconMoon","$cecbdd76f2d3d4bd$var$store","value","$cecbdd76f2d3d4bd$var$load","darkmode","style","display","toggle","setTimeout"],"version":3,"file":"library.07411f08.js.map"}