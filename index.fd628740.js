function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=t.parcelRequire4383;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequire4383=o);var l=o("2shzp"),i=o("elUZT");o("1zbvg");const s=(e,t,a)=>{a.innerHTML="";let n=e.map(e=>{let{genre_ids:a,title:n,name:o,poster_path:l,release_date:i,id:s}=e;return a=function(e,t){let a="";return t.forEach(t=>{e.includes(t.id)&&(a=a+t.name+", ")}),a=a?a.slice(0,-2):"Unknown"}(a,t),i=function(e){let t=e?e.split("-")[0]:"Unknown";return t}(i),n=n||o,`<div class="photo-card" data-id="${s}" >
      <div
        class="modal-info"
        data-vote-avg="${e.vote_average}"
        data-vote-count="${e.vote_count}"
        data-popularity="${e.popularity}"
        data-about="${e.overview}"
        data_original_title="${e.original_title}"
        >
      </div>
    <img src="${l=l?`https://image.tmdb.org/t/p/w500${l}`:"../images/no-signal-img.jpg"}" class="image" alt="${n}" />
    <div class="overlay-text">
        <h1>${(Math.round(10*e.vote_average)/10).toFixed(1)}</h1>
    </div>
  <div class="container-info">
    <b class="title">${n}</b>
    <div class="cont-descr">
      <p class="descr-item">${a}</p>
      <p class="descr-item">|</p>
      <p class="descr-item">${i}</p>
    </div>
  </div>
</div>`}).join("");a.innerHTML=n};var r=o("1zbvg");const d=(0,r.default)("#prev-btn"),c=(0,r.default)("#next-btn"),u=(0,r.default)(".number-buttons"),m=e=>{d.disabled=!1,c.disabled=!1;let t=window.innerWidth;t<768?function(e){u.innerHTML="",1===x&&(d.disabled=!0),x===e&&(c.disabled=!0),x<3?g(3):x>=3&&x<e-2?g(x):g(e-2)}(e):function(e){u.innerHTML="",1===x&&(d.disabled=!0),x===e&&(c.disabled=!0),x<5?(p(5),f(),v(e)):x>=5&&x<e-4?(v(1),f(),g(x),f(),v(e)):(v(1),f(),p(e-2))}(e)};function g(e){for(let t=e-2;t<=e+2;t++){let e=document.createElement("button");e.innerText=t,e.classList.add("pagination__button"),e.dataset.page=t,x===t&&e.classList.add("active"),u.appendChild(e)}}function p(e){for(let t=e-3;t<=e+3;t++){let e=document.createElement("button");e.innerText=t-1,e.classList.add("pagination__button"),e.dataset.page=t-1,x===t-1&&e.classList.add("active"),u.appendChild(e)}}function f(){let e=document.createElement("button");e.innerText="...",e.classList.add("dot-btn"),e.disabled=!0,u.appendChild(e)}function v(e){let t=document.createElement("button");t.innerText=`${e}`,t.classList.add("pagination__button"),t.dataset.page=e,u.appendChild(t)}var y=o("7Y9D8");function h(){e(y).Loading.hourglass({svgColor:"#B92F2C"})}function w(){e(y).Loading.remove()}function _(){e(y).Notify.warning("Please enter the name of a movie to initiate a search.")}function E(){e(y).Notify.warning("No movie was found, try another movie")}var b=o("hUSXI"),r=o("1zbvg");const L=(0,r.default)(".pagination"),$="https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=",S="&api_key=53b2ac0d64cbeedea763734f4fe8a4ce&query=",T=(0,r.default)("#form__search input"),k=(0,r.default)("#form__search"),C=(0,r.default)(".gallery");let M="",q="allMovies",x=1;const U=()=>{let e=(0,r.default)(".pagination");e.addEventListener("click",R)};function R(e){let t=e.target;if(t.dataset.page){let e=t.dataset.page;x=e=Number(e),"allMovies"===q&&A(),"search"===q&&N()}t.dataset.prev&&(x-=1,"allMovies"===q&&A(),"search"===q&&N()),t.dataset.next&&(x+=1,"allMovies"===q&&A(),"search"===q&&N())}const A=async()=>{h(),q="allMovies",L.classList.contains("is-hidden")&&L.classList.remove("is-hidden");try{let e=(0,r.default)(".gallery"),t=await O(),a=t.total_pages;a/=2;let n=t.results,o=await D();s(n,o,e),m(a),window.scrollTo({top:0,behavior:"smooth"}),(0,b.changeNoteColor)()}catch(t){console.log(t),e(y).Notify.failure("Oops! Something went wrong. Please try again later.")}finally{w()}};async function O(){try{let e=`${i.BASE_URL}/trending/all/day?page=${x}&api_key=${i.API_KEY}`,t=await (0,l.default).get(e),a=t.data;return a}catch(e){console.log(e)}}async function D(){try{let e=`${i.BASE_URL}/genre/movie/list?api_key=${i.API_KEY}`,t=await (0,l.default).get(e),a=t.data;return a=a.genres}catch(e){console.log(e)}}const I=async()=>{k.addEventListener("submit",async e=>{e.preventDefault(),h(),q="search",x=1,M=T.value;try{if(""===M){A(),_();return}T.value=M;let e=`${$}${x}${S}${M}`,t=await (0,l.default).get(e),a=t.data,n=a.total_results,o=a.total_pages,i=a.results,r=await D();s(i,r,C),0===n&&(E(),A()),o>1?m(o):L.classList.add("is-hidden"),(0,b.changeNoteColor)(),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.log(e)}finally{w()}})},N=async()=>{h(),T.value=M;try{if(""===M){A(),_();return}let e=`${$}${x}${S}${M}`,t=await (0,l.default).get(e),a=t.data,n=a.total_results,o=a.total_pages,i=a.results,r=await D();s(i,r,C),0===n&&(E(),A()),m(o),(0,b.changeNoteColor)(),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.log(e)}finally{w()}};async function W(e){try{let t=new URLSearchParams({api_key:`${i.API_KEY}`,primary_release_year:e.year,with_genres:e.genre}),a=`${i.BASE_URL}/discover/movie?${t}&vote_average.gte=${e.vote}`,n=await (0,l.default).get(a);return n.data}catch(e){return e}}var i=o("elUZT");const Q=async()=>{try{let e=`${i.BASE_URL}/trending/all/day?api_key=${i.API_KEY}&language=en-US&page=1`,t=await fetch(e),a=await t.json(),n=a.results;z(n),B()}catch(t){console.log(t),e(y).Notify.warning("Oops! Something went wrong, but life goes on")}},F=document.querySelector(".carousel-prev"),H=document.querySelector(".carousel-next"),Y=document.querySelector(".swiper__wrapper");let P=0;const z=e=>{Y.innerHTML="",e.forEach((e,t)=>{let a=document.createElement("div");a.classList.add("swiper__slide"),a.dataset.index=t;let n=document.createElement("img");n.classList.add("swiper__image"),n.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,n.alt=e.title,a.appendChild(n),Y.appendChild(a)})},B=()=>{let e=Y.children.length,t=Math.floor(Y.offsetWidth/200),a=e-t;F.addEventListener("click",()=>{P=(P-1+e)%e,n()}),H.addEventListener("click",()=>{P=(P+1)%e,n()});let n=()=>{let e=-(200*P);Y.style.transition="transform 0.5s",Y.style.transform=`translateX(${e}px)`,P===a&&setTimeout(()=>{Y.style.transition="none",P=0,Y.style.transform="translateX(0)"},500)},o=Y.querySelectorAll(".swiper__slide");o.forEach(e=>{e.addEventListener("mouseover",()=>{e.querySelector(".swiper__image").style.transform="scale(1.1)"}),e.addEventListener("mouseout",()=>{e.querySelector(".swiper__image").style.transform="scale(1)"})}),setInterval(()=>{P=(P+1)%e,n()},3e3)};var r=o("1zbvg");const j="toWatch",G="toQueue",K=(0,r.default)(".modal"),V=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[],X=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},Z=()=>{K.addEventListener("click",e=>{let t=e.target,a=e.currentTarget.dataset.movieId,n=V(j),o=V(G),l=J(n),i=J(o),s={id:a};"toWatch"===t.dataset.action?l.includes(a)||(n.push(s),X(j,n),t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"):"toQueue"===t.dataset.action?i.includes(a)||(o.push(s),X(G,o),t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"):"toWatchRmv"===t.dataset.action?(n=n.filter(e=>e.id!==a),X(j,n),t.textContent="ADD TO WATCHED",t.dataset.action="toWatch"):"toQueueRmv"===t.dataset.action&&(o=o.filter(e=>e.id!==a),X(G,o),t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")})};function J(e){let t=[];return e.forEach(e=>{t.push(e.id)}),t}const ee=(e,t,a)=>{let n=J(e);"toWatch"===t.dataset.action&&n.includes(a)&&(t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"),"toWatchRmv"!==t.dataset.action||n.includes(a)||(t.textContent="ADD TO WATCHED",t.dataset.action="toWatch")},et=(e,t,a)=>{let n=J(e);"toQueue"===t.dataset.action&&n.includes(a)&&(t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"),"toQueueRmv"!==t.dataset.action||n.includes(a)||(t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")};var r=o("1zbvg");const ea=(0,r.default)(".modal"),en=(0,r.default)(".gallery"),eo=e=>{let t=e.target.parentNode,a=ea.querySelector(".watch"),n=ea.querySelector(".queue"),o=t.dataset.id,l=V(j),i=V(G);ee(l,a,o),et(i,n,o)},el=()=>{en.addEventListener("click",eo)};var r=o("1zbvg");const ei=(0,r.default)(".gallery"),es={filterForm:document.querySelector("#filter-form"),selectGenre:document.querySelector("#genreForm"),selectYear:document.querySelector("#yearForm"),selectAverage:document.querySelector("#averageForm")};async function er(){let e=await D();es.selectGenre.innerHTML='<option value=""> Genre </option>',e.forEach(e=>{es.selectGenre.innerHTML+=`<option value="${e.id}">${e.name}</option>`})}async function ed(){let e=await O(),t=e.results,a=[];t.forEach(e=>{e.release_date&&a.push(e.release_date.split("-")[0])})}const ec=[es.selectGenre,es.selectYear,es.selectAverage];ec.forEach(e=>{e.addEventListener("change",async e=>{e.preventDefault();let t=es.selectGenre.value,a=es.selectYear.value,n=es.selectAverage.value,o=await W({genre:t,year:a,vote:n}),l=await D();s(o.results,l,ei)})});var i=o("elUZT");async function eu(){try{let e=await fetch(`https://api.themoviedb.org/3/discover/movie?sort_by=vote_count.desc&api_key=${i.API_KEY}`),t=await e.json(),a=t.results.find(e=>e.vote_count>0),n=await fetch(`https://api.themoviedb.org/3/movie/${a.id}/videos?api_key=${i.API_KEY}`),o=await n.json(),l=o.results.find(e=>"Trailer"===e.type);if(l){let e=l.key,t=`https://www.youtube.com/embed/${e}`;return t}throw Error("No trailer found for the movie.")}catch(e){throw console.error("Error:",e),e}}o("jT5kn"),o("hUSXI"),eu().then(e=>{let t=document.querySelector(".video-frame"),a=document.createElement("iframe");a.src=e,a.width="100%",a.height="100%",a.allowFullscreen=!0,t.appendChild(a)}).catch(e=>{console.error("Error:",e)});const em=async()=>{await Q(),await A(),await I(),await U(),Z(),el(),I(),er(),ed()};window.addEventListener("DOMContentLoaded",em);const eg=document.querySelector("body"),ep=document.querySelector(".dl-btn"),ef=document.querySelector(".fa-sun"),ev=document.querySelector(".fa-moon"),ey=document.querySelector(".modal"),eh=document.querySelector(".team__modal");function ew(e){localStorage.setItem("darkmode",e)}!function(){let e=localStorage.getItem("darkmode");null===e?(ew(!1),ef.style.display="inline",ev.style.display="none"):"true"===e?(eg.classList.add("darkmode"),ef.style.display="none",ev.style.display="inline"):"false"===e&&(ef.style.display="inline",ev.style.display="none")}(),ep.addEventListener("click",()=>{eg.classList.toggle("darkmode"),ef.classList.add("animated"),ev.classList.add("animated"),ey.classList.toggle("darkmode"),eh.classList.toggle("darkmode"),ew(eg.classList.contains("darkmode")),eg.classList.contains("darkmode")?(ef.style.display="none",ev.style.display="inline"):(ef.style.display="inline",ev.style.display="none"),setTimeout(()=>{ef.classList.remove("animated"),ev.classList.remove("anmated")},500)});const e_=document.getElementById("scrollToTopBtn"),eE=document.querySelector(".scroll-btn__icon ");window.addEventListener("scroll",function(){window.scrollY>window.innerHeight/2?(e_.style.display="block",eE.style.transform="rotate(180deg)"):(e_.style.display="none",eE.style.transform="rotate(0deg)")}),e_.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.fd628740.js.map
