!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},n=t.parcelRequire4383;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},t.parcelRequire4383=n),n.register("jIucq",function(e,t){Object.defineProperty(e.exports,"default",{get:function(){return a},set:void 0,enumerable:!0,configurable:!0});var a=e=>{let t=document.querySelector(e);if(t)return t;throw Error(`the ${e} dose not exist`)}});var l=n("dIxxU"),i=n("khBAf");n("jIucq");let r=(e,t,a)=>{a.innerHTML="";let o=e.map(e=>{var a;let o,{genre_ids:n,title:l,name:i,poster_path:r,release_date:s,id:d}=e;return a=n,o="",t.forEach(e=>{a.includes(e.id)&&(o=o+e.name+", ")}),n=o=o?o.slice(0,-2):"Unknown",s=function(e){let t=e?e.split("-")[0]:"Unknown";return t}(s),l=l||i,`<div class="photo-card" data-id="${d}" >
      <div
        class="modal-info"
        data-vote-avg="${e.vote_average}"
        data-vote-count="${e.vote_count}"
        data-popularity="${e.popularity}"
        data-about="${e.overview}"
        data_original_title="${e.original_title}"
        >
      </div>
    <img src="${r=r?`https://image.tmdb.org/t/p/w500${r}`:"../images/no-signal-img.jpg"}" class="image" alt="${l}" />
    <div class="overlay-text">
        <h1>${Math.round(10*e.vote_average)/10}</h1>
    </div>
  <div class="container-info">
    <b class="title">${l}</b>
    <div class="cont-descr">
      <p class="descr-item">${n}</p>
      <p class="descr-item">|</p>
      <p class="descr-item">${s}</p>
    </div>
  </div>
</div>`}).join("");a.innerHTML=o};var s=n("jIucq");let d=(0,s.default)("#prev-btn"),c=(0,s.default)("#next-btn"),u=(0,s.default)(".number-buttons"),m=e=>{d.disabled=!1,c.disabled=!1;let t=window.innerWidth;t<768?(u.innerHTML="",1===M&&(d.disabled=!0),M===e&&(c.disabled=!0),M<3?p(3):M>=3&&M<e-2?p(M):p(e-2)):(u.innerHTML="",1===M&&(d.disabled=!0),M===e&&(c.disabled=!0),M<5?(f(5),y(),g(e)):M>=5&&M<e-4?(g(1),y(),p(M),y(),g(e)):(g(1),y(),f(e-2)))};function p(e){for(let t=e-2;t<=e+2;t++){let e=document.createElement("button");e.innerText=t,e.classList.add("pagination__button"),e.dataset.page=t,M===t&&e.classList.add("active"),u.appendChild(e)}}function f(e){for(let t=e-3;t<=e+3;t++){let e=document.createElement("button");e.innerText=t-1,e.classList.add("pagination__button"),e.dataset.page=t-1,M===t-1&&e.classList.add("active"),u.appendChild(e)}}function y(){let e=document.createElement("button");e.innerText="...",e.classList.add("dot-btn"),e.disabled=!0,u.appendChild(e)}function g(e){let t=document.createElement("button");t.innerText=`${e}`,t.classList.add("pagination__button"),t.dataset.page=e,u.appendChild(t)}var h=n("6JpON");function v(){e(h).Loading.hourglass({svgColor:"#B92F2C"})}function w(){e(h).Loading.remove()}function _(){e(h).Notify.warning("Please enter the name of a movie to initiate a search.")}function E(){e(h).Notify.warning("No movie was found, try another movie")}n("jIucq");let b=()=>{let e=[...document.querySelectorAll(".overlay-text h1")];e.forEach(e=>{let t=e.textContent;(t=Number(t))<6?e.style.color="#b92f2c":t>=6&&t<8?e.style.color="#f09b00":e.style.color="#0d800d",t=t.toFixed(1),e.textContent=t})};var s=n("jIucq");let L=(0,s.default)(".pagination"),$="https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=",S="&api_key=53b2ac0d64cbeedea763734f4fe8a4ce&query=",T=(0,s.default)("#form__search input"),x=(0,s.default)("#form__search"),q=(0,s.default)(".gallery"),k="",C="allMovies",M=1,A=()=>{let e=(0,s.default)(".pagination");e.addEventListener("click",R)};function R(e){let t=e.target;if(t.dataset.page){let e=t.dataset.page;M=e=Number(e),"allMovies"===C&&I(),"search"===C&&W()}t.dataset.prev&&(M-=1,"allMovies"===C&&I(),"search"===C&&W()),t.dataset.next&&(M+=1,"allMovies"===C&&I(),"search"===C&&W())}let I=async()=>{v(),C="allMovies",L.classList.contains("is-hidden")&&L.classList.remove("is-hidden");try{let e=(0,s.default)(".gallery"),t=await O(),a=t.total_pages;a/=2;let o=t.results,n=await U();r(o,n,e),m(a),window.scrollTo({top:0,behavior:"smooth"}),b()}catch(t){console.log(t),e(h).Notify.failure("Oops! Something went wrong. Please try again later.")}finally{w()}};async function O(){try{let e=`${i.BASE_URL}/trending/all/day?page=${M}&api_key=${i.API_KEY}`,t=await (0,l.default).get(e),a=t.data;return a}catch(e){console.log(e)}}async function U(){try{let e=`${i.BASE_URL}/genre/movie/list?api_key=${i.API_KEY}`,t=await (0,l.default).get(e),a=t.data;return a=a.genres}catch(e){console.log(e)}}let D=async()=>{x.addEventListener("submit",async e=>{e.preventDefault(),v(),C="search",M=1,k=T.value;try{if(""===k){I(),_();return}T.value=k;let e=`${$}${M}${S}${k}`,t=await (0,l.default).get(e),a=t.data,o=a.total_results,n=a.total_pages,i=a.results,s=await U();r(i,s,q),0===o&&(E(),I()),n>1?m(n):L.classList.add("is-hidden"),b(),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.log(e)}finally{w()}})},W=async()=>{v(),T.value=k;try{if(""===k){I(),_();return}let e=`${$}${M}${S}${k}`,t=await (0,l.default).get(e),a=t.data,o=a.total_results,n=a.total_pages,i=a.results,s=await U();r(i,s,q),0===o&&(E(),I()),m(n),b(),window.scrollTo({top:0,behavior:"smooth"})}catch(e){console.log(e)}finally{w()}};async function j(e){try{let t=new URLSearchParams({api_key:`${i.API_KEY}`,primary_release_year:e.year,with_genres:this.genre}),a=`${i.BASE_URL}/discover/movie?${t}`,o=await (0,l.default).get(a);return o.data}catch(e){return e}}var i=n("khBAf");let N=async()=>{try{let e=`${i.BASE_URL}/trending/all/day?api_key=${i.API_KEY}&language=en-US&page=1`,t=await fetch(e),a=await t.json(),o=a.results;F(o),K()}catch(t){console.log(t),e(h).Notify.warning("Oops! Something went wrong, but life goes on")}},Q=document.querySelector(".carousel-prev"),H=document.querySelector(".carousel-next"),B=document.querySelector(".swiper__wrapper"),P=0,F=e=>{B.innerHTML="",e.forEach((e,t)=>{let a=document.createElement("div");a.classList.add("swiper__slide"),a.dataset.index=t;let o=document.createElement("img");o.classList.add("swiper__image"),o.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,o.alt=e.title,a.appendChild(o),B.appendChild(a)})},K=()=>{let e=B.children.length,t=Math.floor(B.offsetWidth/200),a=e-t;Q.addEventListener("click",()=>{P=(P-1+e)%e,o()}),H.addEventListener("click",()=>{P=(P+1)%e,o()});let o=()=>{let e=-(200*P);B.style.transition="transform 0.5s",B.style.transform=`translateX(${e}px)`,P===a&&setTimeout(()=>{B.style.transition="none",P=0,B.style.transform="translateX(0)"},500)},n=B.querySelectorAll(".swiper__slide");n.forEach(e=>{e.addEventListener("mouseover",()=>{e.querySelector(".swiper__image").style.transform="scale(1.1)"}),e.addEventListener("mouseout",()=>{e.querySelector(".swiper__image").style.transform="scale(1)"})}),setInterval(()=>{P=(P+1)%e,o()},3e3)};var s=n("jIucq");let Y="toWatch",V="toQueue",J=(0,s.default)(".modal"),X=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[],G=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},z=()=>{J.addEventListener("click",e=>{let t=e.target,a=e.currentTarget.dataset.movieId,o=X(Y),n=X(V),l=Z(o),i=Z(n),r={id:a};"toWatch"===t.dataset.action?l.includes(a)||(o.push(r),G(Y,o),t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"):"toQueue"===t.dataset.action?i.includes(a)||(n.push(r),G(V,n),t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"):"toWatchRmv"===t.dataset.action?(o=o.filter(e=>e.id!==a),G(Y,o),t.textContent="ADD TO WATCHED",t.dataset.action="toWatch"):"toQueueRmv"===t.dataset.action&&(n=n.filter(e=>e.id!==a),G(V,n),t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")})};function Z(e){let t=[];return e.forEach(e=>{t.push(e.id)}),t}let ee=(e,t,a)=>{let o=Z(e);"toWatch"===t.dataset.action&&o.includes(a)&&(t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"),"toWatchRmv"!==t.dataset.action||o.includes(a)||(t.textContent="ADD TO WATCHED",t.dataset.action="toWatch")},et=(e,t,a)=>{let o=Z(e);"toQueue"===t.dataset.action&&o.includes(a)&&(t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"),"toQueueRmv"!==t.dataset.action||o.includes(a)||(t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")};var s=n("jIucq");let ea=(0,s.default)(".modal"),eo=(0,s.default)(".gallery"),en=e=>{let t=e.target.parentNode,a=ea.querySelector(".watch"),o=ea.querySelector(".queue"),n=t.dataset.id,l=X(Y),i=X(V);ee(l,a,n),et(i,o,n)},el=()=>{eo.addEventListener("click",en)};async function ei(){let e=await U();console.log(await j());let t=document.querySelector("#genreForm");t.innerHTML='<option value="0"> Genre </option>',e.forEach(e=>{t.innerHTML+=`<option value="${e.id}">${e.name}</option>`})}async function er(){let e=await O();console.log(e);let t=e.results,a=[];t.forEach(e=>{e.release_date&&a.push(e.release_date.split("-")[0])}),console.log(a)}var i=n("khBAf");async function es(){try{let e=await fetch(`https://api.themoviedb.org/3/discover/movie?sort_by=vote_count.desc&api_key=${i.API_KEY}`),t=await e.json(),a=t.results.find(e=>e.vote_count>0),o=await fetch(`https://api.themoviedb.org/3/movie/${a.id}/videos?api_key=${i.API_KEY}`),n=await o.json(),l=n.results.find(e=>"Trailer"===e.type);if(l){let e=l.key,t=`https://www.youtube.com/embed/${e}`;return t}throw Error("No trailer found for the movie.")}catch(e){throw console.error("Error:",e),e}}n("aWjK1"),es().then(e=>{let t=document.querySelector(".video-frame"),a=document.createElement("iframe");a.src=e,a.width="100%",a.height="100%",a.allowFullscreen=!0,t.appendChild(a)}).catch(e=>{console.error("Error:",e)});let ed=async()=>{await N(),await I(),await D(),await A(),z(),el(),D(),ei(),er()};window.addEventListener("DOMContentLoaded",ed);let ec=document.querySelector("body"),eu=document.querySelector(".dl-btn"),em=document.querySelector(".fa-sun"),ep=document.querySelector(".fa-moon"),ef=document.querySelector(".modal"),ey=document.querySelector(".team__modal");function eg(e){localStorage.setItem("darkmode",e)}!function(){let e=localStorage.getItem("darkmode");null===e?(eg(!1),em.style.display="inline",ep.style.display="none"):"true"===e?(ec.classList.add("darkmode"),em.style.display="none",ep.style.display="inline"):"false"===e&&(em.style.display="inline",ep.style.display="none")}(),eu.addEventListener("click",()=>{ec.classList.toggle("darkmode"),em.classList.add("animated"),ep.classList.add("animated"),ef.classList.toggle("darkmode"),ey.classList.toggle("darkmode"),eg(ec.classList.contains("darkmode")),ec.classList.contains("darkmode")?(em.style.display="none",ep.style.display="inline"):(em.style.display="inline",ep.style.display="none"),setTimeout(()=>{em.classList.remove("animated"),ep.classList.remove("anmated")},500)});let eh=document.getElementById("scrollToTopBtn"),ev=document.querySelector(".scroll-btn__icon ");window.addEventListener("scroll",function(){window.scrollY>window.innerHeight/2?(eh.style.display="block",ev.style.transform="rotate(180deg)"):(eh.style.display="none",ev.style.transform="rotate(0deg)")}),eh.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})}();
//# sourceMappingURL=index.0043f023.js.map
