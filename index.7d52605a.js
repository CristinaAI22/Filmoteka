function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=t.parcelRequire4383;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return a[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequire4383=o),o.register("1zbvg",function(e,t){Object.defineProperty(e.exports,"default",{get:function(){return a},set:void 0,enumerable:!0,configurable:!0});var a=e=>{let t=document.querySelector(e);if(t)return t;throw Error(`the ${e} dose not exist`)}});var i=o("2shzp"),s=o("1zbvg");const l="53b2ac0d64cbeedea763734f4fe8a4ce";let d=1;const r="https://api.themoviedb.org/3",c=()=>{let e=(0,s.default)(".pagination");e.addEventListener("click",u)};function u(e){let t=e.target;if(t.dataset.page){let e=t.dataset.page;d=e=Number(e),L()}t.dataset.prev&&(d-=1,L()),t.dataset.next&&(d+=1,L())}o("1zbvg");const p=(e,t,a)=>{a.innerHTML="";let n=e.map(e=>{let{genre_ids:a,title:n,name:o,poster_path:i,release_date:s,id:l}=e;return a=function(e,t){let a="";return t.forEach(t=>{e.includes(t.id)&&(a=a+t.name+", ")}),a=a?a.slice(0,-2):"Unknown"}(a,t),s=function(e){let t=e?e.split("-")[0]:"Unknown";return t}(s),n=n||o,`<div class="photo-card" data-id="${l}" >
      <div
        class="modal-info"
        data-vote-avg="${e.vote_average}"
        data-vote-count="${e.vote_count}"
        data-popularity="${e.popularity}"
        data-about="${e.overview}"
        data_original_title="${e.original_title}"
        >
      </div>
    <img src="${i=i?`https://image.tmdb.org/t/p/w500${i}`:"../images/no-signal-img.jpg"}" class="image" alt="${n}" />
  <div class="container-info">
    <b class="title">${n}</b>
    <div class="cont-descr">
      <p class="descr-item">${a}</p>
      <p class="descr-item">|</p>
      <p class="descr-item">${s}</p>
    </div>
  </div>
</div>`}).join("");a.innerHTML=n};var s=o("1zbvg");const g=(0,s.default)("#prev-btn"),m=(0,s.default)("#next-btn"),f=(0,s.default)(".number-buttons"),y=e=>{g.disabled=!1,m.disabled=!1;let t=window.innerWidth;t<768?function(e){f.innerHTML="",1===d&&(g.disabled=!0),d===e&&(m.disabled=!0),d<3?v(3):d>=3&&d<e-2?v(d):v(e-2)}(e):function(e){f.innerHTML="",1===d&&(g.disabled=!0),d===e&&(m.disabled=!0),d<5?(b(5),h(),w(e)):d>=5&&d<e-4?(w(1),h(),v(d),h(),w(e)):(w(1),h(),b(e-2))}(e)};function v(e){for(let t=e-2;t<=e+2;t++){let e=document.createElement("button");e.innerText=t,e.classList.add("pagination__button"),e.dataset.page=t,d===t&&e.classList.add("active"),f.appendChild(e)}}function b(e){for(let t=e-3;t<=e+3;t++){let e=document.createElement("button");e.innerText=t-1,e.classList.add("pagination__button"),e.dataset.page=t-1,d===t-1&&e.classList.add("active"),f.appendChild(e)}}function h(){let e=document.createElement("button");e.innerText="...",e.classList.add("dot-btn"),e.disabled=!0,f.appendChild(e)}function w(e){let t=document.createElement("button");t.innerText=`${e}`,t.classList.add("pagination__button"),t.dataset.page=e,f.appendChild(t)}var _=o("7Y9D8"),s=o("1zbvg");const L=async()=>{e(_).Loading.standard("Loading...");try{let e=(0,s.default)(".gallery"),t=`${r}/trending/all/day?page=${d}&api_key=${l}`,a=await (0,i.default).get(t),n=a.data,o=n.total_pages;o/=2;let c=n.results,u=await E();p(c,u,e),y(o),window.scrollTo({top:0,behavior:"smooth"})}catch(t){console.log(t),e(_).Notify.failure("Oops! Something went wrong. Please try again later.")}finally{e(_).Loading.remove()}};async function E(){try{let e=`${r}/genre/movie/list?api_key=${l}`,t=await (0,i.default).get(e),a=t.data;return a=a.genres}catch(e){console.log(e)}}const T=async()=>{try{let e=`${r}/trending/all/day?api_key=${l}&language=en-US&page=1`,t=await fetch(e),a=await t.json(),n=a.results;O(n),q()}catch(t){console.log(t),e(_).Notify.warning("Oops! Something went wrong, but life goes on")}},$=document.querySelector(".carousel-prev"),S=document.querySelector(".carousel-next"),x=document.querySelector(".swiper__wrapper");let k=0;const O=e=>{x.innerHTML="",e.forEach((e,t)=>{let a=document.createElement("div");a.classList.add("swiper__slide"),a.dataset.index=t;let n=document.createElement("img");n.classList.add("swiper__image"),n.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,n.alt=e.title,a.appendChild(n),x.appendChild(a)})},q=()=>{let e=x.children.length,t=Math.floor(x.offsetWidth/200),a=e-t;$.addEventListener("click",()=>{k=(k-1+e)%e,n()}),S.addEventListener("click",()=>{k=(k+1)%e,n()});let n=()=>{let e=-(200*k);x.style.transition="transform 0.5s",x.style.transform=`translateX(${e}px)`,k===a&&setTimeout(()=>{x.style.transition="none",k=0,x.style.transform="translateX(0)"},500)},o=x.querySelectorAll(".swiper__slide");o.forEach(e=>{e.addEventListener("mouseover",()=>{e.querySelector(".swiper__image").style.transform="scale(1.1)"}),e.addEventListener("mouseout",()=>{e.querySelector(".swiper__image").style.transform="scale(1)"})}),setInterval(()=>{k=(k+1)%e,n()},3e3)};var s=o("1zbvg");const C="toWatch",M="toQueue",R=(0,s.default)(".modal");(0,s.default)(".gallery");const U=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[],W=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},D=()=>{R.addEventListener("click",e=>{let t=e.target,a=e.currentTarget.dataset.movieId,n=U(C),o=U(M),i=H(n),s=H(o),l={id:a};e.currentTarget,"toWatch"===t.dataset.action?i.includes(a)||(n.push(l),W(C,n),t.textContent="REMOVE FROM WATCHED",t.dataset.action="toWatchRmv"):"toQueue"===t.dataset.action?s.includes(a)||(o.push(l),W(M,o),t.textContent="REMOVE FROM QUEUE",t.dataset.action="toQueueRmv"):"toWatchRmv"===t.dataset.action?(n=n.filter(e=>e.id!==a),W(C,n),t.textContent="TO WATCHED",t.dataset.action="toWatch"):"toQueueRmv"!==t.dataset.action||s.includes(a)||(o=o.filter(e=>e.id!==a),W(M,o),t.textContent="ADD TO QUEUE",t.dataset.action="toQueue")})};function H(e){let t=[];return e.forEach(e=>{t.push(e.id)}),t}const I=async()=>{T(),L(),c(),D()};window.addEventListener("DOMContentLoaded",I);const z=document.querySelector("body"),N=document.querySelector(".dl-btn"),Q=document.querySelector(".fa-sun"),j=document.querySelector(".fa-moon");function A(e){localStorage.setItem("darkmode",e)}!function(){let e=localStorage.getItem("darkmode");null===e?(A(!1),Q.style.display="inline",j.style.display="none"):"true"===e?(z.classList.add("darkmode"),Q.style.display="none",j.style.display="inline"):"false"===e&&(Q.style.display="inline",j.style.display="none")}(),N.addEventListener("click",()=>{z.classList.toggle("darkmode"),Q.classList.add("animated"),j.classList.add("animated"),A(z.classList.contains("darkmode")),z.classList.contains("darkmode")?(Q.style.display="none",j.style.display="inline"):(Q.style.display="inline",j.style.display="none"),setTimeout(()=>{Q.classList.remove("animated"),j.classList.remove("anmated")},500)});const F=document.getElementById("scrollToTopBtn"),B=document.querySelector(".scroll-btn__icon ");window.addEventListener("scroll",function(){window.scrollY>window.innerHeight/2?(F.style.display="block",B.style.transform="rotate(180deg)"):(F.style.display="none",B.style.transform="rotate(0deg)")}),F.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});
//# sourceMappingURL=index.7d52605a.js.map
