{"mappings":"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","sources":["<anon>","src/library.js","src/js-files/buildLibrary.js","src/js-files/library/library-utils.js","src/js-files/library/createLibraryDOM.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire4383\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire4383\"] = parcelRequire;\n}\n// imports\n// imports\n\nvar $2shzp = parcelRequire(\"2shzp\");\n\nvar $7Y9D8 = parcelRequire(\"7Y9D8\");\nconst $4411abf7d79a5e90$export$d16800b7e59a8051 = (selection)=>{\n    const element = document.querySelector(selection);\n    if (element) return element;\n    throw new Error(`the ${selection} dose not exist`);\n};\nfunction $4411abf7d79a5e90$export$24b60fe7179439bc(arr) {\n    const arrIds = [];\n    arr.forEach((movie)=>{\n        arrIds.push(movie.id);\n    });\n    return arrIds;\n}\nconst $4411abf7d79a5e90$export$e612bb1301d659de = (item)=>{\n    let storageItem = localStorage.getItem(item);\n    if (storageItem) storageItem = JSON.parse(localStorage.getItem(item));\n    else storageItem = [];\n    return storageItem;\n};\nfunction $4411abf7d79a5e90$export$56525cbb1fcd885c() {\n    (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Loading.standard(\"Loading...\");\n}\nfunction $4411abf7d79a5e90$export$5cee2c2772922923() {\n    (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Loading.remove();\n}\n\n\n// imports\n\nconst $88f2845f356250ad$var$libraryGallery = (0, $4411abf7d79a5e90$export$d16800b7e59a8051)(\".library-gallery\");\nconst $88f2845f356250ad$export$975f077eb52d1497 = (moviesArr)=>{\n    const galleryContent = moviesArr.map((movie)=>{\n        let { genres: movieType , homepage: homepage , original_title: name , poster_path: movieImg , id: id , release_date: releaseDate  } = movie;\n        movieType = $88f2845f356250ad$var$getGenres(movieType);\n        releaseDate = $88f2845f356250ad$var$getRealeaseDate(releaseDate);\n        movieImg = movieImg ? `https://image.tmdb.org/t/p/w500${movieImg}` : `../../images/no-signal-img.jpg`;\n        return `<div class=\"photo-card\" data-id=\"${id}\" >\n      <div\n        class=\"modal-info\"\n        data-vote-avg=\"${movie.vote_average}\"\n        data-vote-count=\"${movie.vote_count}\"\n        data-popularity=\"${movie.popularity}\"\n        data-about=\"${movie.overview}\"\n        data_original_title=\"${movie.original_title}\"\n        >\n      </div>\n      <a href=\"${homepage}\" target=\"_blank\">\n    <img src=\"${movieImg}\" class=\"image\" alt=\"${name}\" />\n      </a>\n  <div class=\"container-info\">\n    <b class=\"title\">${name}</b>\n    <div class=\"cont-descr\">\n      <p class=\"descr-item\">${movieType}</p>\n      <p class=\"descr-item\">|</p>\n      <p class=\"descr-item\">${releaseDate}</p>\n    </div>\n  </div>\n</div>`;\n    }).join(\"\");\n    $88f2845f356250ad$var$libraryGallery.innerHTML = galleryContent;\n};\nfunction $88f2845f356250ad$var$getGenres(arr) {\n    let types = \"\";\n    arr.forEach((movie)=>{\n        types = types + movie.name + \", \";\n    });\n    types = types ? types.slice(0, -2) : \"N/A\";\n    return types;\n}\nfunction $88f2845f356250ad$var$getRealeaseDate(realeaseDate) {\n    const year = realeaseDate ? realeaseDate.split(\"-\")[0] : \"N/A\";\n    return year;\n}\n\n\nconst $849dfdce29f8f239$var$toWatch = \"toWatch\";\nconst $849dfdce29f8f239$var$toQueue = \"toQueue\";\nconst $849dfdce29f8f239$var$API_KEY = \"53b2ac0d64cbeedea763734f4fe8a4ce\";\nconst $849dfdce29f8f239$var$BASE_URL_ID = \"https://api.themoviedb.org/3/movie/\";\nconst $849dfdce29f8f239$var$noMovie = (0, $4411abf7d79a5e90$export$d16800b7e59a8051)(\".no-movie\");\n// https://api.themoviedb.org/3/movie/298618?api_key=53b2ac0d64cbeedea763734f4fe8a4ce\nconst $849dfdce29f8f239$var$buildsLibrary = async (selectedLibrary)=>{\n    (0, $4411abf7d79a5e90$export$56525cbb1fcd885c)();\n    $849dfdce29f8f239$var$noMovie.classList.remove(\"is-hidden\");\n    try {\n        let localStorageMovies = (0, $4411abf7d79a5e90$export$e612bb1301d659de)(selectedLibrary);\n        localStorageMovies = (0, $4411abf7d79a5e90$export$24b60fe7179439bc)(localStorageMovies);\n        const movies = await $849dfdce29f8f239$var$moviesDetails(localStorageMovies);\n        if (movies.length !== 0) $849dfdce29f8f239$var$noMovie.classList.add(\"is-hidden\");\n        (0, $88f2845f356250ad$export$975f077eb52d1497)(movies);\n    } catch (err) {\n        console.log(err);\n    } finally{\n        (0, $4411abf7d79a5e90$export$5cee2c2772922923)();\n    }\n};\nconst $849dfdce29f8f239$var$moviesDetails = async (localStorageMovies)=>{\n    const movieDetailsArray = [];\n    await Promise.all(localStorageMovies.map(async (movie)=>{\n        try {\n            const url = `${$849dfdce29f8f239$var$BASE_URL_ID}${movie}?api_key=${$849dfdce29f8f239$var$API_KEY}`;\n            const resp = await (0, $2shzp.default).get(url);\n            const data = resp.data;\n            movieDetailsArray.push(data);\n        } catch (err) {\n            console.log(err);\n        }\n    }));\n    return movieDetailsArray;\n};\nconst $849dfdce29f8f239$export$e7d1a4959038c5e5 = async ()=>{\n    await $849dfdce29f8f239$var$buildsLibrary($849dfdce29f8f239$var$toWatch);\n    const watchBtn = (0, $4411abf7d79a5e90$export$d16800b7e59a8051)('[data-whichLibrary=\"watched\"]');\n    const queueBtn = (0, $4411abf7d79a5e90$export$d16800b7e59a8051)('[data-whichLibrary=\"queue\"]');\n    watchBtn.addEventListener(\"click\", async ()=>{\n        if (queueBtn.classList.contains(\"active-library\")) queueBtn.classList.remove(\"active-library\");\n        watchBtn.classList.add(\"active-library\");\n        await $849dfdce29f8f239$var$buildsLibrary($849dfdce29f8f239$var$toWatch);\n    });\n    queueBtn.addEventListener(\"click\", async ()=>{\n        if (watchBtn.classList.contains(\"active-library\")) watchBtn.classList.remove(\"active-library\");\n        queueBtn.classList.add(\"active-library\");\n        await $849dfdce29f8f239$var$buildsLibrary($849dfdce29f8f239$var$toQueue);\n    });\n}; // async function fetchMovie(movie) {\n // }\n\n\nwindow.addEventListener(\"DOMContentLoaded\", (0, $849dfdce29f8f239$export$e7d1a4959038c5e5)); // renderLibrary();\n\n\n//# sourceMappingURL=library.26e64775.js.map\n","// imports\nimport { renderLibrary } from './js-files/buildLibrary';\n\nwindow.addEventListener('DOMContentLoaded', renderLibrary);\n// renderLibrary();\n","// imports\nimport axios from 'axios';\nimport {\n  getIds,\n  getStorageItem,\n  showLoader,\n  hideLoader,\n} from './library/library-utils';\nimport { createLibraryDOM } from './library/createLibraryDOM';\nimport { getElement } from './library/library-utils';\n\nconst toWatch = 'toWatch';\nconst toQueue = 'toQueue';\nconst API_KEY = '53b2ac0d64cbeedea763734f4fe8a4ce';\nconst BASE_URL_ID = 'https://api.themoviedb.org/3/movie/';\nconst noMovie = getElement('.no-movie');\n\n// https://api.themoviedb.org/3/movie/298618?api_key=53b2ac0d64cbeedea763734f4fe8a4ce\n\nconst buildsLibrary = async selectedLibrary => {\n  showLoader();\n  noMovie.classList.remove('is-hidden');\n  try {\n    let localStorageMovies = getStorageItem(selectedLibrary);\n    localStorageMovies = getIds(localStorageMovies);\n    const movies = await moviesDetails(localStorageMovies);\n    if (movies.length !== 0) {\n      noMovie.classList.add('is-hidden');\n    }\n    createLibraryDOM(movies);\n  } catch (err) {\n    console.log(err);\n  } finally {\n    hideLoader();\n  }\n};\n\nconst moviesDetails = async localStorageMovies => {\n  const movieDetailsArray = [];\n  await Promise.all(\n    localStorageMovies.map(async movie => {\n      try {\n        const url = `${BASE_URL_ID}${movie}?api_key=${API_KEY}`;\n        const resp = await axios.get(url);\n        const data = resp.data;\n        movieDetailsArray.push(data);\n      } catch (err) {\n        console.log(err);\n      }\n    })\n  );\n  return movieDetailsArray;\n};\n\nexport const renderLibrary = async () => {\n  await buildsLibrary(toWatch);\n  const watchBtn = getElement('[data-whichLibrary=\"watched\"]');\n  const queueBtn = getElement('[data-whichLibrary=\"queue\"]');\n  watchBtn.addEventListener('click', async () => {\n    if (queueBtn.classList.contains('active-library')) {\n      queueBtn.classList.remove('active-library');\n    }\n    watchBtn.classList.add('active-library');\n    await buildsLibrary(toWatch);\n  });\n  queueBtn.addEventListener('click', async () => {\n    if (watchBtn.classList.contains('active-library')) {\n      watchBtn.classList.remove('active-library');\n    }\n    queueBtn.classList.add('active-library');\n    await buildsLibrary(toQueue);\n  });\n};\n\n// async function fetchMovie(movie) {\n\n// }\n","import Notiflix from 'notiflix';\n\nexport const getElement = selection => {\n  const element = document.querySelector(selection);\n  if (element) {\n    return element;\n  }\n  throw new Error(`the ${selection} dose not exist`);\n};\n\nexport function getIds(arr) {\n  const arrIds = [];\n  arr.forEach(movie => {\n    arrIds.push(movie.id);\n  });\n  return arrIds;\n}\n\nexport const getStorageItem = item => {\n  let storageItem = localStorage.getItem(item);\n  if (storageItem) {\n    storageItem = JSON.parse(localStorage.getItem(item));\n  } else {\n    storageItem = [];\n  }\n  return storageItem;\n};\n\nexport function showLoader() {\n  Notiflix.Loading.standard('Loading...');\n}\nexport function hideLoader() {\n  Notiflix.Loading.remove();\n}\n","// imports\nimport { getElement } from './library-utils';\n\nconst libraryGallery = getElement('.library-gallery');\n\nexport const createLibraryDOM = moviesArr => {\n  const galleryContent = moviesArr\n    .map(movie => {\n      let {\n        genres: movieType,\n        homepage,\n        original_title: name,\n        poster_path: movieImg,\n        id,\n        release_date: releaseDate,\n      } = movie;\n      movieType = getGenres(movieType);\n      releaseDate = getRealeaseDate(releaseDate);\n      movieImg = movieImg\n        ? `https://image.tmdb.org/t/p/w500${movieImg}`\n        : `../../images/no-signal-img.jpg`;\n      return `<div class=\"photo-card\" data-id=\"${id}\" >\n      <div\n        class=\"modal-info\"\n        data-vote-avg=\"${movie.vote_average}\"\n        data-vote-count=\"${movie.vote_count}\"\n        data-popularity=\"${movie.popularity}\"\n        data-about=\"${movie.overview}\"\n        data_original_title=\"${movie.original_title}\"\n        >\n      </div>\n      <a href=\"${homepage}\" target=\"_blank\">\n    <img src=\"${movieImg}\" class=\"image\" alt=\"${name}\" />\n      </a>\n  <div class=\"container-info\">\n    <b class=\"title\">${name}</b>\n    <div class=\"cont-descr\">\n      <p class=\"descr-item\">${movieType}</p>\n      <p class=\"descr-item\">|</p>\n      <p class=\"descr-item\">${releaseDate}</p>\n    </div>\n  </div>\n</div>`;\n    })\n    .join('');\n  libraryGallery.innerHTML = galleryContent;\n};\n\nfunction getGenres(arr) {\n  let types = '';\n  arr.forEach(movie => {\n    types = types + movie.name + ', ';\n  });\n  types = types ? types.slice(0, -2) : 'N/A';\n  return types;\n}\n\nfunction getRealeaseDate(realeaseDate) {\n  const year = realeaseDate ? realeaseDate.split('-')[0] : 'N/A';\n  return year;\n}\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$2shzp","$7Y9D8","$4411abf7d79a5e90$export$d16800b7e59a8051","selection","element","document","querySelector","$4411abf7d79a5e90$export$e612bb1301d659de","item","localStorage","getItem","JSON","parse","$88f2845f356250ad$var$libraryGallery","$88f2845f356250ad$export$975f077eb52d1497","moviesArr","galleryContent","map","movie","genres","movieType","homepage","original_title","name","poster_path","movieImg","release_date","releaseDate","vote_average","vote_count","popularity","overview","$88f2845f356250ad$var$getGenres","arr","types","forEach","slice","$88f2845f356250ad$var$getRealeaseDate","realeaseDate","year","split","join","innerHTML","$849dfdce29f8f239$var$toWatch","$849dfdce29f8f239$var$noMovie","$849dfdce29f8f239$var$buildsLibrary","selectedLibrary","Loading","standard","classList","remove","localStorageMovies","arrIds","push","movies","$849dfdce29f8f239$var$moviesDetails","length","add","console","log","movieDetailsArray","Promise","all","url","resp","get","data","$849dfdce29f8f239$export$e7d1a4959038c5e5","watchBtn","queueBtn","addEventListener","contains"],"version":3,"file":"library.26e64775.js.map"}